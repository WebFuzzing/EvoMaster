swagger: '2.0'
schemes:
  - https
host: management.azure.com
info:
  title: PolicyStatesClient
  version: '2019-10-01'
  x-apisguru-categories:
    - cloud
  x-logo:
    url: 'https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png'
  x-origin:
    - format: swagger
      url: 'https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/policyinsights/resource-manager/Microsoft.PolicyInsights/stable/2019-10-01/policyStates.json'
      version: '2.0'
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: policyinsights-policyStates
  x-tags:
    - Azure
    - Microsoft
produces:
  - application/json
securityDefinitions:
  azure_auth:
    authorizationUrl: 'https://login.microsoftonline.com/common/oauth2/authorize'
    description: Azure Active Directory OAuth2 Flow
    flow: implicit
    scopes:
      user_impersonation: impersonate your user account
    type: oauth2
security:
  - azure_auth:
      - user_impersonation
parameters:
  apiVersionParameter:
    description: Client Api Version.
    in: query
    name: api-version
    required: true
    type: string
    x-ms-parameter-location: client
  applyParameter:
    description: OData apply expression for aggregations.
    in: query
    name: $apply
    required: false
    type: string
    x-ms-client-name: Apply
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
  authorizationNamespaceParameter:
    description: The namespace for Microsoft Authorization resource provider; only "Microsoft.Authorization" is allowed.
    enum:
      - Microsoft.Authorization
    in: path
    name: authorizationNamespace
    required: true
    type: string
    x-ms-parameter-location: method
  expandParameter:
    description: 'The $expand query parameter. For example, to expand policyEvaluationDetails, use $expand=policyEvaluationDetails'
    in: query
    name: $expand
    required: false
    type: string
    x-ms-client-name: Expand
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
  filterParameter:
    description: OData filter expression.
    in: query
    name: $filter
    required: false
    type: string
    x-ms-client-name: Filter
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
  fromParameter:
    description: 'ISO 8601 formatted timestamp specifying the start time of the interval to query. When not specified, the service uses ($to - 1-day).'
    format: date-time
    in: query
    name: $from
    required: false
    type: string
    x-ms-client-name: From
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
  managementGroupNameParameter:
    description: Management group name.
    in: path
    name: managementGroupName
    required: true
    type: string
    x-ms-parameter-location: method
  managementGroupsNamespaceParameter:
    description: The namespace for Microsoft Management RP; only "Microsoft.Management" is allowed.
    enum:
      - Microsoft.Management
    in: path
    name: managementGroupsNamespace
    required: true
    type: string
    x-ms-parameter-location: method
  orderByParameter:
    description: 'Ordering expression using OData notation. One or more comma-separated column names with an optional "desc" (the default) or "asc", e.g. "$orderby=PolicyAssignmentId, ResourceId asc".'
    in: query
    name: $orderby
    required: false
    type: string
    x-ms-client-name: OrderBy
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
  policyAssignmentNameParameter:
    description: Policy assignment name.
    in: path
    name: policyAssignmentName
    required: true
    type: string
    x-ms-parameter-location: method
  policyDefinitionNameParameter:
    description: Policy definition name.
    in: path
    name: policyDefinitionName
    required: true
    type: string
    x-ms-parameter-location: method
  policySetDefinitionNameParameter:
    description: Policy set definition name.
    in: path
    name: policySetDefinitionName
    required: true
    type: string
    x-ms-parameter-location: method
  policyStatesResourceParameter:
    description: 'The virtual resource under PolicyStates resource type. In a given time range, ''latest'' represents the latest policy state(s), whereas ''default'' represents all policy state(s).'
    enum:
      - default
      - latest
    in: path
    name: policyStatesResource
    required: true
    type: string
    x-ms-enum:
      modelAsString: true
      name: PolicyStatesResource
    x-ms-parameter-location: method
  policyStatesSummaryResourceParameter:
    description: 'The virtual resource under PolicyStates resource type for summarize action. In a given time range, ''latest'' represents the latest policy state(s) and is the only allowed value.'
    enum:
      - latest
    in: path
    name: policyStatesSummaryResource
    required: true
    type: string
    x-ms-parameter-location: method
  resourceGroupNameParameter:
    description: Resource group name.
    in: path
    name: resourceGroupName
    required: true
    type: string
    x-ms-parameter-location: method
  resourceIdParameter:
    description: Resource ID.
    in: path
    name: resourceId
    required: true
    type: string
    x-ms-parameter-location: method
    x-ms-skip-url-encoding: true
  scopeParameter:
    description: 'A valid scope, i.e. management group, subscription, resource group, or resource ID. Scope used has no effect on metadata returned.'
    in: path
    name: scope
    required: true
    type: string
    x-ms-parameter-location: method
    x-ms-skip-url-encoding: true
  selectParameter:
    description: 'Select expression using OData notation. Limits the columns on each record to just those requested, e.g. "$select=PolicyAssignmentId, ResourceId".'
    in: query
    name: $select
    required: false
    type: string
    x-ms-client-name: Select
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
  subscriptionId:
    description: Microsoft Azure subscription ID.
    in: path
    name: subscriptionId
    required: true
    type: string
    x-ms-parameter-location: method
  toParameter:
    description: 'ISO 8601 formatted timestamp specifying the end time of the interval to query. When not specified, the service uses request time.'
    format: date-time
    in: query
    name: $to
    required: false
    type: string
    x-ms-client-name: To
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
  topParameter:
    description: Maximum number of records to return.
    format: int32
    in: query
    minimum: 0
    name: $top
    required: false
    type: integer
    x-ms-client-name: Top
    x-ms-parameter-grouping:
      name: QueryOptions
    x-ms-parameter-location: method
paths:
  /providers/Microsoft.PolicyInsights/operations:
    get:
      description: Lists available operations.
      operationId: Operations_List
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
      responses:
        '200':
          description: List of available operations.
          schema:
            $ref: '#/definitions/OperationsListResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        List operations:
          parameters:
            api-version: '2019-10-01'
          responses:
            '200':
              body:
                '@odata.count': 3
                value:
                  - display:
                      description: Query information about policy events.
                      operation: Query Policy Events
                      provider: Microsoft Policy Insights
                      resource: Policy Events
                    name: Microsoft.PolicyInsights/policyEvents/queryResults/action
                  - display:
                      description: Query information about policy states.
                      operation: Query Policy States
                      provider: Microsoft Policy Insights
                      resource: Policy States
                    name: Microsoft.PolicyInsights/policyStates/queryResults/action
                  - display:
                      description: Query summary information about policy latest states.
                      operation: Query Policy Latest States Summary
                      provider: Microsoft Policy Insights
                      resource: Policy States
                    name: Microsoft.PolicyInsights/policyStates/summarize/action
  '/providers/{managementGroupsNamespace}/managementGroups/{managementGroupName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the resources under the management group.
      operationId: PolicyStates_ListQueryResultsForManagementGroup
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/managementGroupsNamespaceParameter'
        - $ref: '#/parameters/managementGroupNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Query latest at management group scope:
          parameters:
            api-version: '2019-10-01'
            managementGroupName: myManagementGroup
            managementGroupsNamespace: Microsoft.Management
            policyStatesResource: latest
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'myManagementGroup,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.Authorization/policyAssignments/1ef5d536aec743a0aa801c1a
                    policyAssignmentName: 1ef5d536aec743a0aa801c1a
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /providers/Microsoft.Management/managementGroups/myManagementGroup
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.Authorization/policyDefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionName: 022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionReferenceId: '15521232277412542086'
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.Authorization/policySetDefinitions/335cefd2-ab16-430f-b364-974a170eb1d5
                    policySetDefinitionName: 335cefd2-ab16-430f-b364-974a170eb1d5
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myrg1
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myrg1/providers/microsoft.insights/autoscalesettings/mytest1
                    resourceLocation: westus
                    resourceTags: tbd
                    resourceType: /microsoft.insights/autoscalesettings
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-09T17:41:47Z'
                  - '@odata.context': 'https://management.azure.com/providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'myManagementGroup,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.Authorization/policyAssignments/186044306c044a1d8c0ff76c
                    policyAssignmentName: 186044306c044a1d8c0ff76c
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"allowedLocations":{"value":["centralus"]}}'
                    policyAssignmentScope: /providers/Microsoft.Management/managementGroups/myManagementGroup
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.Authorization/policyDefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionName: 022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionReferenceId: ''
                    policySetDefinitionCategory: null
                    policySetDefinitionId: ''
                    policySetDefinitionName: ''
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myrg1
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myrg1/providers/microsoft.insights/autoscalesettings/mytest1
                    resourceLocation: westus
                    resourceTags: tbd
                    resourceType: /microsoft.insights/autoscalesettings
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-09T17:41:47Z'
  '/providers/{managementGroupsNamespace}/managementGroups/{managementGroupName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the resources under the management group.
      operationId: PolicyStates_SummarizeForManagementGroup
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/managementGroupsNamespaceParameter'
        - $ref: '#/parameters/managementGroupNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at management group scope:
          parameters:
            $filter: PolicyDefinitionAction eq 'deny' or PolicyDefinitionAction eq 'audit'
            $from: '2019-10-05T18:00:00Z'
            $to: '2019-10-06T18:00:00Z'
            $top: 0
            api-version: '2019-10-01'
            managementGroupName: myManagementGroup
            managementGroupsNamespace: Microsoft.Management
            policyStatesSummaryResource: latest
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments: []
                    results:
                      nonCompliantPolicies: 68
                      nonCompliantResources: 15410
                      policyDetails:
                        - complianceState: noncompliant
                          count: 68
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 14
                      queryResultsUri: 'https://management.azure.com/providers/Microsoft.Management/managementGroups/myManagementGroup/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-05 18:00:00Z&$to=2019-10-06 18:00:00Z&$filter=(PolicyDefinitionAction eq ''deny'' or PolicyDefinitionAction eq ''audit'') and IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 1400
                        - complianceState: noncompliant
                          count: 15410
  '/subscriptions/{subscriptionId}/providers/Microsoft.PolicyInsights/policyStates/latest/triggerEvaluation':
    post:
      description: Triggers a policy evaluation scan for all the resources under the subscription
      operationId: PolicyStates_TriggerSubscriptionEvaluation
      parameters:
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/apiVersionParameter'
      responses:
        '200':
          description: The scan is done.
        '202':
          description: The scan was successfully triggered.
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Trigger evaluations for all resources in a subscription:
          parameters:
            api-version: '2019-10-01'
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200': {}
            '202': {}
      x-ms-long-running-operation: true
      x-ms-long-running-operation-options:
        final-state-via: location
  '/subscriptions/{subscriptionId}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the resources under the subscription.
      operationId: PolicyStates_ListQueryResultsForSubscription
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Filter and aggregate only:
          parameters:
            $apply: aggregate($count as NumDenyStates)
            $filter: PolicyDefinitionAction eq 'deny'
            $from: '2019-10-05T18:00:00Z'
            api-version: '2019-10-01'
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumDenyStates: 6
        Filter and group with aggregate:
          parameters:
            $apply: 'groupby((PolicyAssignmentId, PolicyDefinitionId, PolicyDefinitionAction, ResourceId), aggregate($count as NumAuditDenyNonComplianceRecords))'
            $filter: IsCompliant eq false and (PolicyDefinitionAction eq 'audit' or PolicyDefinitionAction eq 'deny')
            $from: '2019-10-05T18:00:00Z'
            $orderby: NumAuditDenyNonComplianceRecords desc
            $top: 2
            api-version: '2019-10-01'
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumAuditDenyNonComplianceRecords: 10
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01
                    policyDefinitionAction: audit
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myrg/providers/microsoft.classiccompute/domainnames/myDomainName
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumAuditDenyNonComplianceRecords: 10
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1
                    policyDefinitionAction: audit
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myrg/providers/microsoft.classiccompute/domainnames/myDomainName
        Filter and group without aggregate:
          parameters:
            $apply: 'groupby((PolicyAssignmentId, PolicyDefinitionId, PolicyDefinitionAction, ResourceId))'
            $filter: IsCompliant eq false and (PolicyDefinitionAction ne 'audit' and PolicyDefinitionAction ne 'append')
            $from: '2019-10-05T18:00:00Z'
            $top: 2
            api-version: '2019-10-01'
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/enable monitoring in azure security center
                    policyDefinitionAction: auditifnotexists
                    policyDefinitionId: /providers/microsoft.authorization/policydefinitions/44452482-524f-4bf4-b852-0bff7cc4a3ed
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myrg/providers/microsoft.network/virtualnetworks/vnet
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/89b27f38-e9e4-4468-ab81-801c84b8c017
                    policyDefinitionAction: auditifnotexists
                    policyDefinitionId: /providers/microsoft.authorization/policydefinitions/44452482-524f-4bf4-b852-0bff7cc4a3ed
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myrg/providers/microsoft.network/virtualnetworks/vnet
        Filter and multiple groups:
          parameters:
            $apply: 'groupby((PolicyAssignmentId, PolicySetDefinitionId, PolicyDefinitionId, PolicyDefinitionReferenceId, ResourceId))/groupby((PolicyAssignmentId, PolicySetDefinitionId, PolicyDefinitionId, PolicyDefinitionReferenceId), aggregate($count as NumNonCompliantResources))'
            $filter: IsCompliant eq false
            $orderby: NumNonCompliantResources desc
            $top: 10
            api-version: '2019-10-01'
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 10
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 557
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: '14799174781370023846'
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 557
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: '1679708035638239273'
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 557
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: '14799174781370023846'
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 557
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: '1679708035638239273'
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 557
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: ''
                    policySetDefinitionId: ''
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 557
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/dcda79d769674aea8bfcaa49
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                    policyDefinitionReferenceId: ''
                    policySetDefinitionId: ''
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 552
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: ''
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 544
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                    policyDefinitionReferenceId: '8935913113203900114'
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/a03db67e-a286-43c3-9098-b2da83d361ad
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 526
                    policyAssignmentId: /providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874
                    policyDefinitionId: /providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/72c0c41a-c752-4bc0-9c61-0d6adc567066
                    policyDefinitionReferenceId: ''
                    policySetDefinitionId: ''
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    NumNonCompliantResources: 509
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                    policyDefinitionReferenceId: '2124621540977569058'
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
        Query latest at subscription scope:
          parameters:
            api-version: '2019-10-01'
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/Enable Monitoring in Azure Security Center
                    policyAssignmentName: Enable Monitoring in Azure Security Center
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: AuditIfNotExists
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Authorization/policyDefinitions/9daedab3-fb2d-461e-b861-71790eead4f6
                    policyDefinitionName: 9daedab3-fb2d-461e-b861-71790eead4f6
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /providers/Microsoft.Authorization/policySetDefinitions/1f3afdf9-d0c9-4c3d-847f-89da613e70a8
                    policySetDefinitionName: 1f3afdf9-d0c9-4c3d-847f-89da613e70a8
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myrg1
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myrg1/providers/Microsoft.Network/publicIPAddresses/mypubip1
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.Network/publicIPAddresses
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-09T17:48:05Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/9ac09b0657d942e5ad4041a6
                    policyAssignmentName: 9ac09b0657d942e5ad4041a6
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: AuditIfNotExists
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Authorization/policyDefinitions/9daedab3-fb2d-461e-b861-71790eead4f6
                    policyDefinitionName: 9daedab3-fb2d-461e-b861-71790eead4f6
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /providers/Microsoft.Authorization/policySetDefinitions/1f3afdf9-d0c9-4c3d-847f-89da613e70a8
                    policySetDefinitionName: 1f3afdf9-d0c9-4c3d-847f-89da613e70a8
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myrg1
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myrg1/providers/Microsoft.Network/publicIPAddresses/mypubip1
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.Network/publicIPAddresses
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-09T17:48:05Z'
        'Time range; sort, select and limit':
          parameters:
            $from: '2019-10-05T18:00:00Z'
            $orderby: 'Timestamp desc, PolicyAssignmentId asc, SubscriptionId asc, ResourceGroup asc, ResourceId'
            $select: 'Timestamp, PolicyAssignmentId, PolicyDefinitionId, SubscriptionId, ResourceGroup, ResourceId, policyDefinitionGroupNames'
            $to: '2019-10-06T18:00:00Z'
            $top: 2
            api-version: '2019-10-01'
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/8cb1e007-947f-423a-ad0c-7ab7dc7d0255/providers/Microsoft.Authorization/policyAssignments/1654a0254ab34920a60f94eb
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Authorization/policyDefinitions/655cb504-bcee-4362-bd4c-402e6aa38759
                    resourceGroup: myrg1
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myrg1/providers/Microsoft.Storage/storageAccounts/mysa1
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-06T17:58:00Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/8cb1e007-947f-423a-ad0c-7ab7dc7d0255/providers/Microsoft.Authorization/policyAssignments/1654a0254ab34920a60f94eb
                    policyDefinitionGroupNames: []
                    policyDefinitionId: /providers/Microsoft.Authorization/policyDefinitions/655cb504-bcee-4362-bd4c-402e6aa38759
                    resourceGroup: myrg2
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myrg2/providers/Microsoft.Storage/storageAccounts/mysa2
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-06T17:58:00Z'
  '/subscriptions/{subscriptionId}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the resources under the subscription.
      operationId: PolicyStates_SummarizeForSubscription
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at subscription scope:
          parameters:
            $top: 5
            api-version: '2019-10-01'
            policyStatesSummaryResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments:
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                            policyDefinitionReferenceId: 1b249ab8b4741b249ab8b474
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 557
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 531
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/a03db67e-a286-43c3-9098-b2da83d361ad'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 557
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/a03db67e-a286-43c3-9098-b2da83d361ad
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 557
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 557
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 557
                        policyGroups:
                          - policyGroupName: ''
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 557
                        policySetDefinitionId: ''
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 557
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 557
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/dcda79d769674aea8bfcaa49
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/dcda79d769674aea8bfcaa49'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 557
                        policyGroups:
                          - policyGroupName: ''
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/dcda79d769674aea8bfcaa49'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 557
                        policySetDefinitionId: ''
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 557
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/dcda79d769674aea8bfcaa49'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 557
                      - policyAssignmentId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                            policyDefinitionReferenceId: '2134906828137356512'
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'' and PolicyDefinitionId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 557
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 557
                        policySetDefinitionId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 557
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 557
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: '5434906828137356512'
                            results:
                              nonCompliantResources: 552
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 552
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/locationauditdefinition
                            policyDefinitionReferenceId: '8724906828137356512'
                            results:
                              nonCompliantResources: 29
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/locationauditdefinition'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 29
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e3682
                            policyDefinitionReferenceId: '7254906828137356512'
                            results:
                              nonCompliantResources: 2
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e3682'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 2
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 3
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 552
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c
                        results:
                          nonCompliantPolicies: 3
                          nonCompliantResources: 552
                          policyDetails:
                            - complianceState: noncompliant
                              count: 3
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 552
                    results:
                      nonCompliantPolicies: 40
                      nonCompliantResources: 619
                      policyDetails:
                        - complianceState: noncompliant
                          count: 1
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
                        - complianceState: noncompliant
                          count: 619
        Summarize at subscription scope for a policy definition group:
          parameters:
            $filter: '''group1'' IN PolicyDefinitionGroupNames'
            $top: 1
            api-version: '2019-10-01'
            policyStatesSummaryResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments:
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/ab379b49-a579-4045-984e-1b249ab8b474
                            policyDefinitionReferenceId: '1595906828137356523'
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/ab379b49-a579-4045-984e-1b249ab8b474'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 557
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: '2134906828137356512'
                            results:
                              nonCompliantResources: 34
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 510
                                - complianceState: noncompliant
                                  count: 34
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 2
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/a03db67e-a286-43c3-9098-b2da83d361ad'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 557
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/a03db67e-a286-43c3-9098-b2da83d361ad
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 557
                          policyDetails:
                            - complianceState: noncompliant
                              count: 2
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/e46af646ebdb461dba708e01'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 17
                    results:
                      nonCompliantPolicies: 1
                      nonCompliantResources: 557
                      policyDetails:
                        - complianceState: noncompliant
                          count: 1
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
                        - complianceState: noncompliant
                          count: 17
  '/subscriptions/{subscriptionId}/providers/{authorizationNamespace}/policyAssignments/{policyAssignmentName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the subscription level policy assignment.
      operationId: PolicyStates_ListQueryResultsForSubscriptionLevelPolicyAssignment
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policyAssignmentNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Query latest at subscription level policy assignment scope:
          parameters:
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policyAssignmentName: ec8f9645-8ecb-4abb-9c0b-5292f19d4003
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/ec8f9645-8ecb-4abb-9c0b-5292f19d4003/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/ec8f9645-8ecb-4abb-9c0b-5292f19d4003/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/ec8f9645-8ecb-4abb-9c0b-5292f19d4003
                    policyAssignmentName: ec8f9645-8ecb-4abb-9c0b-5292f19d4003
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"TAGNAME_1":{"value":"test"}}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                    policyDefinitionName: c8b79b49-a579-4045-984e-1b249ab8b474
                    policyDefinitionReferenceId: '2124621540977569058'
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                    policySetDefinitionName: 12b58873-e0f8-4b95-936c-86cbe7c9d697
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Network/publicIPAddresses/my-ip-1
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.Network/publicIPAddresses
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:45:19Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/ec8f9645-8ecb-4abb-9c0b-5292f19d4003/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/ec8f9645-8ecb-4abb-9c0b-5292f19d4003
                    policyAssignmentName: ec8f9645-8ecb-4abb-9c0b-5292f19d4003
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"TAGNAME_1":{"value":"test"}}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionName: 24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: '14799174781370023846'
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                    policySetDefinitionName: 12b58873-e0f8-4b95-936c-86cbe7c9d697
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Network/publicIPAddresses/my-ip-1
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.Network/publicIPAddresses
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:45:19Z'
  '/subscriptions/{subscriptionId}/providers/{authorizationNamespace}/policyAssignments/{policyAssignmentName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the subscription level policy assignment.
      operationId: PolicyStates_SummarizeForSubscriptionLevelPolicyAssignment
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policyAssignmentNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at policy assignment scope:
          parameters:
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policyAssignmentName: ec8f9645-8ecb-4abb-9c0b-5292f19d4003
            policyStatesSummaryResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments:
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474
                            policyDefinitionReferenceId: '2134906828137356512'
                            results:
                              nonCompliantResources: 531
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:09:24Z&$to=2019-10-13 20:09:24Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/c8b79b49-a579-4045-984e-1b249ab8b474'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 531
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: '3424906828137356512'
                            results:
                              nonCompliantResources: 531
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:09:24Z&$to=2019-10-13 20:09:24Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 531
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/locationauditdefinition
                            policyDefinitionReferenceId: '7943906828137356512'
                            results:
                              nonCompliantResources: 220
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:09:24Z&$to=2019-10-13 20:09:24Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/locationauditdefinition'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 220
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e3682
                            policyDefinitionReferenceId: '1234906828137356512'
                            results:
                              nonCompliantResources: 54
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:09:24Z&$to=2019-10-13 20:09:24Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e3682'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 54
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 100
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'' and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 100
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                        results:
                          nonCompliantPolicies: 4
                          nonCompliantResources: 531
                          policyDetails:
                            - complianceState: noncompliant
                              count: 4
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:09:24Z&$to=2019-10-13 20:09:24Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 531
                    results:
                      nonCompliantPolicies: 1
                      nonCompliantResources: 531
                      policyDetails:
                        - complianceState: noncompliant
                          count: 1
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:09:24Z&$to=2019-10-13 20:09:24Z&$filter=IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
                        - complianceState: noncompliant
                          count: 531
  '/subscriptions/{subscriptionId}/providers/{authorizationNamespace}/policyDefinitions/{policyDefinitionName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the subscription level policy definition.
      operationId: PolicyStates_ListQueryResultsForPolicyDefinition
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policyDefinitionNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Query latest at subscription level policy definition scope:
          parameters:
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policyDefinitionName: 24813039-7534-408a-9842-eb99f45721b1
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/d9da7e80af6344ab9d342aa7
                    policyAssignmentName: d9da7e80af6344ab9d342aa7
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"tagName":{"value":"MyTag"}}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionName: 24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication/services/myService
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ServiceFabric/clusters/applications/services
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:50:27Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/d9da7e80af6344ab9d342aa7
                    policyAssignmentName: d9da7e80af6344ab9d342aa7
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"tagName":{"value":"MyTag"}}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionName: 24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication/services/myService
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ServiceFabric/clusters/applications/services
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:50:27Z'
  '/subscriptions/{subscriptionId}/providers/{authorizationNamespace}/policyDefinitions/{policyDefinitionName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the subscription level policy definition.
      operationId: PolicyStates_SummarizeForPolicyDefinition
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policyDefinitionNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at policy definition scope:
          parameters:
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policyDefinitionName: 24813039-7534-408a-9842-eb99f45721b1
            policyStatesSummaryResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments:
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 558
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 558
                        policyGroups:
                          - policyGroupName: ''
                            results:
                              nonCompliantResources: 7
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 558
                        policySetDefinitionId: ''
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 558
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/d9da7e80af6344ab9d342aa7'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 558
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: '2481303924813039'
                            results:
                              nonCompliantResources: 553
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 553
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 553
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 553
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 553
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/3f3c4330183b4e218fe6fd29'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 553
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 531
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 531
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 531
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 531
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 531
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/ddd8ef92e3714a5ea3d208c1'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 14
                            - complianceState: noncompliant
                              count: 531
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 531
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/24813039-7534-408a-9842-eb99f45721b1'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 531
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 531
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 14
                                - complianceState: noncompliant
                                  count: 531
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/12b58873-e0f8-4b95-936c-86cbe7c9d697
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 531
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/f4cc58b7db524a9799381531'''
                    results:
                      nonCompliantPolicies: 4
                      nonCompliantResources: 561
                      policyDetails:
                        - complianceState: noncompliant
                          count: 1
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 20:07:10Z&$to=2019-10-13 20:07:10Z&$filter=IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
                        - complianceState: noncompliant
                          count: 561
  '/subscriptions/{subscriptionId}/providers/{authorizationNamespace}/policySetDefinitions/{policySetDefinitionName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the subscription level policy set definition.
      operationId: PolicyStates_ListQueryResultsForPolicySetDefinition
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policySetDefinitionNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Query latest at subscription level policy set definition scope:
          parameters:
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policySetDefinitionName: 3e3807c1-65c9-49e0-a406-82d8ae3e338c
            policyStatesResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/3f3c4330183b4e218fe6fd29
                    policyAssignmentName: 3f3c4330183b4e218fe6fd29
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionName: 24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionName: 3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Web/sites/mySite
                    resourceLocation: centralus
                    resourceTags: tbd
                    resourceType: /Microsoft.Web/sites
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:54:58Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/3f3c4330183b4e218fe6fd29
                    policyAssignmentName: 3f3c4330183b4e218fe6fd29
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: Audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/LocationAuditDefinition
                    policyDefinitionName: LocationAuditDefinition
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionName: 3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Web/sites/mySite
                    resourceLocation: centralus
                    resourceTags: tbd
                    resourceType: /Microsoft.Web/sites
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:54:58Z'
  '/subscriptions/{subscriptionId}/providers/{authorizationNamespace}/policySetDefinitions/{policySetDefinitionName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the subscription level policy set definition.
      operationId: PolicyStates_SummarizeForPolicySetDefinition
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policySetDefinitionNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at policy set definition scope:
          parameters:
            $filter: PolicyDefinitionAction eq 'deny'
            $from: '2019-10-05T18:00:00Z'
            $to: '2019-10-06T18:00:00Z'
            $top: 1
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policySetDefinitionName: 3e3807c1-65c9-49e0-a406-82d8ae3e338c
            policyStatesSummaryResource: latest
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments: []
                    results:
                      nonCompliantPolicies: 0
                      nonCompliantResources: 0
                      policyDetails:
                        - complianceState: compliant
                          count: 1
                      policyGroupDetails:
                        - complianceState: compliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-05 18:00:00Z&$to=2019-10-06 18:00:00Z&$filter=(PolicyDefinitionAction eq ''deny'') and IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
  '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.PolicyInsights/policyStates/latest/triggerEvaluation':
    post:
      description: Triggers a policy evaluation scan for all the resources under the resource group.
      operationId: PolicyStates_TriggerResourceGroupEvaluation
      parameters:
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
      responses:
        '200':
          description: The scan is done.
        '202':
          description: The scan was successfully triggered.
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Trigger evaluations for all resources in a resource group:
          parameters:
            api-version: '2019-10-01'
            resourceGroupName: myResourceGroup
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200': {}
            '202': {}
      x-ms-long-running-operation: true
      x-ms-long-running-operation-options:
        final-state-via: location
  '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the resources under the resource group.
      operationId: PolicyStates_ListQueryResultsForResourceGroup
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Query latest at resource group scope:
          parameters:
            api-version: '2019-10-01'
            policyStatesResource: latest
            resourceGroupName: myResourceGroup
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/3f3c4330183b4e218fe6fd29
                    policyAssignmentName: 3f3c4330183b4e218fe6fd29
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionName: 24813039-7534-408a-9842-eb99f45721b1
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionName: 3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/mysa1
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.Storage/storageAccounts
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-09T18:42:42Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyAssignments/3f3c4330183b4e218fe6fd29
                    policyAssignmentName: 3f3c4330183b4e218fe6fd29
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e3682
                    policyDefinitionName: 3e3807c1-65c9-49e0-a406-82d8ae3e3682
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policySetDefinitions/3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionName: 3e3807c1-65c9-49e0-a406-82d8ae3e338c
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/mysa1
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.Storage/storageAccounts
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-09T18:42:42Z'
  '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the resources under the resource group.
      operationId: PolicyStates_SummarizeForResourceGroup
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at resource group scope:
          parameters:
            api-version: '2019-10-01'
            policyStatesSummaryResource: latest
            resourceGroupName: myResourceGroup
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/d0610b27-9663-4c05-89f8-5b4be01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/d0610b27-9663-4c05-89f8-5b4be01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments:
                      - policyAssignmentId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/186044306c044a1d8c0ff76c
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 100
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/d0610b27-9663-4c05-89f8-5b4be01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:55:09Z&$to=2019-10-13 19:55:09Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/186044306c044a1d8c0ff76c'' and PolicyDefinitionId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 100
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 100
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/186044306c044a1d8c0ff76c'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 100
                        policySetDefinitionId: ''
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 55
                          policyDetails:
                            - complianceState: noncompliant
                              count: 2
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/d0610b27-9663-4c05-89f8-5b4be01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:55:09Z&$to=2019-10-13 19:55:09Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/186044306c044a1d8c0ff76c'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 55
                      - policyAssignmentId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 55
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/d0610b27-9663-4c05-89f8-5b4be01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:55:09Z&$to=2019-10-13 19:55:09Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'' and PolicyDefinitionId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 55
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 55
                        policySetDefinitionId: /providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 55
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/d0610b27-9663-4c05-89f8-5b4be01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:55:09Z&$to=2019-10-13 19:55:09Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/myManagementGroup/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 55
                    results:
                      nonCompliantPolicies: 20
                      nonCompliantResources: 55
                      policyDetails:
                        - complianceState: noncompliant
                          count: 2
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/d0610b27-9663-4c05-89f8-5b4be01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:55:09Z&$to=2019-10-13 19:55:09Z&$filter=IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
                        - complianceState: noncompliant
                          count: 55
  '/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{authorizationNamespace}/policyAssignments/{policyAssignmentName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the resource group level policy assignment.
      operationId: PolicyStates_ListQueryResultsForResourceGroupLevelPolicyAssignment
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policyAssignmentNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Query latest at resource group level policy assignment scope:
          parameters:
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policyAssignmentName: myPolicyAssignment
            policyStatesResource: latest
            resourceGroupName: myResourceGroup
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/myPolicyAssignment/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/myPolicyAssignment/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/myPolicyAssignment
                    policyAssignmentName: myPolicyAssignment
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"allowedLocations":{"value":["EUS, WEU"]}}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/4a0425e4-97bf-4ad0-ab36-145b94083c60
                    policyDefinitionName: 4a0425e4-97bf-4ad0-ab36-145b94083c60
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Security/policies/mySecurityPolicy
                    resourceLocation: null
                    resourceTags: tbd
                    resourceType: /Microsoft.Security/policies
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:38:50Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/myPolicyAssignment/providers/Microsoft.PolicyInsights/policyStates/$metadata#latest/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/myPolicyAssignment
                    policyAssignmentName: myPolicyAssignment
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"allowedLocations":{"value":["EUS, WEU"]}}'
                    policyAssignmentScope: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.Authorization/policyDefinitions/4a0425e4-97bf-4ad0-ab36-145b94083c60
                    policyDefinitionName: 4a0425e4-97bf-4ad0-ab36-145b94083c60
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/test
                    resourceLocation: null
                    resourceTags: tbd
                    resourceType: /Microsoft.Authorization/policyAssignments
                    subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
                    timestamp: '2019-10-13T00:38:50Z'
  '/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{authorizationNamespace}/policyAssignments/{policyAssignmentName}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the resource group level policy assignment.
      operationId: PolicyStates_SummarizeForResourceGroupLevelPolicyAssignment
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/subscriptionId'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - $ref: '#/parameters/authorizationNamespaceParameter'
        - $ref: '#/parameters/policyAssignmentNameParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at policy assignment scope:
          parameters:
            api-version: '2019-10-01'
            authorizationNamespace: Microsoft.Authorization
            policyAssignmentName: b7a1ca2596524e3ab19597f2
            policyStatesSummaryResource: latest
            resourceGroupName: myResourceGroup
            subscriptionId: fffedd8f-ffff-fffd-fffd-fffed2f84852
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/b7a1ca2596524e3ab19597f2/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/b7a1ca2596524e3ab19597f2/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments:
                      - policyAssignmentId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/microsoft.authorization/policyassignments/b7a1ca2596524e3ab19597f2
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionGroupNames:
                              - group1
                            policyDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/4a0425e4-97bf-4ad0-ab36-145b94083c60
                            policyDefinitionReferenceId: '2134906828137356512'
                            results:
                              nonCompliantResources: 7
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/b7a1ca2596524e3ab19597f2/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-22 23:54:22Z&$to=2019-10-23 23:54:22Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/microsoft.authorization/policyassignments/b7a1ca2596524e3ab19597f2'' and PolicyDefinitionId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policydefinitions/4a0425e4-97bf-4ad0-ab36-145b94083c60'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 7
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 557
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/a03db67e-a286-43c3-9098-b2da83d361ad'' and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/b7a1ca2596524e3ab19597f2'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 7
                        policySetDefinitionId: /subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/a03db67e-a286-43c3-9098-b2da83d361ad
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 7
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/b7a1ca2596524e3ab19597f2/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-22 23:54:22Z&$to=2019-10-23 23:54:22Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourcegroups/myResourceGroup/providers/microsoft.authorization/policyassignments/b7a1ca2596524e3ab19597f2'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 7
                    results:
                      nonCompliantPolicies: 1
                      nonCompliantResources: 7
                      policyDetails:
                        - complianceState: noncompliant
                          count: 1
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/resourceGroups/myResourceGroup/providers/Microsoft.Authorization/policyAssignments/b7a1ca2596524e3ab19597f2/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-22 23:54:22Z&$to=2019-10-23 23:54:22Z&$filter=IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
                        - complianceState: noncompliant
                          count: 7
  '/{resourceId}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesResource}/queryResults':
    post:
      description: Queries policy states for the resource.
      operationId: PolicyStates_ListQueryResultsForResource
      parameters:
        - $ref: '#/parameters/policyStatesResourceParameter'
        - $ref: '#/parameters/resourceIdParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/orderByParameter'
        - $ref: '#/parameters/selectParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
        - $ref: '#/parameters/applyParameter'
        - $ref: '#/parameters/expandParameter'
      responses:
        '200':
          description: Query results.
          schema:
            $ref: '#/definitions/PolicyStatesQueryResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Query all policy states at nested resource scope:
          parameters:
            api-version: '2019-10-01'
            policyStatesResource: default
            resourceId: subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication/providers/Microsoft.PolicyInsights/policyStates/$metadata#default'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyAssignments/186044306c044a1d8c0ff76c
                    policyAssignmentName: 186044306c044a1d8c0ff76c
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"allowedLocations":{"value":["centralus"]}}'
                    policyAssignmentScope: /providers/Microsoft.Management/managementGroups/mymg
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyDefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionName: 022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ServiceFabric/clusters/applications
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyAssignments/186044306c044a1d8c0ff76c
                    policyAssignmentName: 186044306c044a1d8c0ff76c
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"allowedLocations":{"value":["centralus"]}}'
                    policyAssignmentScope: /providers/Microsoft.Management/managementGroups/mymg
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyDefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionName: 022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ServiceFabric/clusters/myCluster/applications/myApplication
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ServiceFabric/clusters/applications
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
        Query all policy states at resource scope:
          parameters:
            api-version: '2019-10-01'
            policyStatesResource: default
            resourceId: subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyAssignments/test
                    policyAssignmentName: test
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"tagName":{"value":"no"},"tagValue":{"value":"no"}}'
                    policyAssignmentScope: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyDefinitions/Audit a tag and it's value
                    policyDefinitionName: Audit a tag and it's value
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ClassicCompute/domainNames
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyAssignments/test
                    policyAssignmentName: test
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"tagName":{"value":"no"},"tagValue":{"value":"no"}}'
                    policyAssignmentScope: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyDefinitions/Audit a tag and it's value
                    policyDefinitionName: Audit a tag and it's value
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ClassicCompute/domainNames
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
        Query all policy states at resource scope and expand policyEvaluationDetails:
          parameters:
            $expand: policyEvaluationDetails
            api-version: '2019-10-01'
            policyStatesResource: latest
            resourceId: subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyAssignments/test
                    policyAssignmentName: test
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"tagName":{"value":"no"},"tagValue":{"value":"no"}}'
                    policyAssignmentScope: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyDefinitions/Audit a tag and it's value
                    policyDefinitionName: Audit a tag and it's value
                    policyDefinitionReferenceId: null
                    policyEvaluationDetails:
                      evaluatedExpressions:
                        - expression: type
                          expressionValue: Microsoft.ClassicCompute/domainNames
                          operator: Equals
                          path: type
                          result: 'True'
                          targetValue: Microsoft.ClassicCompute/domainNames
                        - expression: name
                          expressionValue: myDomainName
                          operator: Equals
                          path: name
                          result: 'False'
                          targetValue: someName
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ClassicCompute/domainNames
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyAssignments/test2
                    policyAssignmentName: test
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{}'
                    policyAssignmentScope: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    policyDefinitionAction: auditifnotexists
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyDefinitions/AuditIfNotExistsTest
                    policyDefinitionName: AuditIfNotExists test
                    policyDefinitionReferenceId: null
                    policyEvaluationDetails:
                      evaluatedExpressions:
                        - expression: tags
                          expressionValue: {}
                          operator: NotContainsKey
                          path: tags
                          result: 'True'
                          targetValue: global-opco
                      ifNotExistsDetails:
                        resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName
                        totalResources: 1
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: myResourceGroup
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourcegroups/myResourceGroup/providers/Microsoft.ClassicCompute/domainNames/myDomainName
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.ClassicCompute/domainNames
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
        Query all policy states at subscription level nested resource scope:
          parameters:
            api-version: '2019-10-01'
            policyStatesResource: default
            resourceId: subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResource/someNestedResourceType/someNestedResource
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResource/someNestedResourceType/someNestedResource/providers/Microsoft.PolicyInsights/policyStates/$metadata#default'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResource/someNestedResourceType/someNestedResource/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyAssignments/186044306c044a1d8c0ff76c
                    policyAssignmentName: 186044306c044a1d8c0ff76c
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"allowedLocations":{"value":["centralus"]}}'
                    policyAssignmentScope: /providers/Microsoft.Management/managementGroups/mymg
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyDefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionName: 022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: ''
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResource/someNestedResourceType/someNestedResource
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.SomeNamespace/someResourceType/someNestedResourceType
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResource/someNestedResourceType/someNestedResource/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyAssignments/186044306c044a1d8c0ff76c
                    policyAssignmentName: 186044306c044a1d8c0ff76c
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"allowedLocations":{"value":["centralus"]}}'
                    policyAssignmentScope: /providers/Microsoft.Management/managementGroups/mymg
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /providers/Microsoft.Management/managementGroups/mymg/providers/Microsoft.Authorization/policyDefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionName: 022d9357-5a90-46f7-9554-21d30ce4c32d
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: ''
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResource/someNestedResourceType/someNestedResource
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.SomeNamespace/someResourceType/someNestedResourceType
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
        Query all policy states at subscription level resource scope:
          parameters:
            api-version: '2019-10-01'
            policyStatesResource: default
            resourceId: subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResourceName
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResourceName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default'
                '@odata.count': 2
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResourceName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: NonCompliant
                    effectiveParameters: null
                    isCompliant: false
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyAssignments/test
                    policyAssignmentName: test
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"tagName":{"value":"no"},"tagValue":{"value":"no"}}'
                    policyAssignmentScope: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyDefinitions/Audit a tag and it's value
                    policyDefinitionName: Audit a tag and it's value
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: ''
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResourceName
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.SomeNamespace/someResourceType
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResourceName/providers/Microsoft.PolicyInsights/policyStates/$metadata#default/$entity'
                    '@odata.id': null
                    complianceState: Compliant
                    effectiveParameters: null
                    isCompliant: true
                    managementGroupIds: 'mymg,fff988bf-fff1-ffff-fffb-fffcd011db47'
                    policyAssignmentId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyAssignments/test
                    policyAssignmentName: test
                    policyAssignmentOwner: tbd
                    policyAssignmentParameters: '{"tagName":{"value":"no"},"tagValue":{"value":"no"}}'
                    policyAssignmentScope: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    policyDefinitionAction: audit
                    policyDefinitionCategory: tbd
                    policyDefinitionGroupNames:
                      - myGroup
                    policyDefinitionId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.Authorization/policyDefinitions/Audit a tag and it's value
                    policyDefinitionName: Audit a tag and it's value
                    policyDefinitionReferenceId: null
                    policySetDefinitionCategory: null
                    policySetDefinitionId: null
                    policySetDefinitionName: null
                    policySetDefinitionOwner: null
                    policySetDefinitionParameters: null
                    resourceGroup: ''
                    resourceId: /subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/providers/Microsoft.SomeNamespace/someResourceType/someResourceName
                    resourceLocation: eastus
                    resourceTags: tbd
                    resourceType: /Microsoft.SomeNamespace/someResourceType
                    subscriptionId: fff10b27-fff3-fff5-fff8-fffbe01e86a5
                    timestamp: '2019-10-09T16:04:31Z'
  '/{resourceId}/providers/Microsoft.PolicyInsights/policyStates/{policyStatesSummaryResource}/summarize':
    post:
      description: Summarizes policy states for the resource.
      operationId: PolicyStates_SummarizeForResource
      parameters:
        - $ref: '#/parameters/policyStatesSummaryResourceParameter'
        - $ref: '#/parameters/resourceIdParameter'
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/topParameter'
        - $ref: '#/parameters/fromParameter'
        - $ref: '#/parameters/toParameter'
        - $ref: '#/parameters/filterParameter'
      responses:
        '200':
          description: Summarize results.
          schema:
            $ref: '#/definitions/SummarizeResults'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/QueryFailure'
      x-ms-examples:
        Summarize at resource scope:
          parameters:
            $top: 2
            api-version: '2019-10-01'
            policyStatesSummaryResource: latest
            resourceId: subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault
          responses:
            '200':
              body:
                '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary'
                '@odata.count': 1
                value:
                  - '@odata.context': 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity'
                    '@odata.id': null
                    policyAssignments:
                      - policyAssignmentId: /providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionId: /providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/72c0c41a-c752-4bc0-9c61-0d6adc567066
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 1
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874'' and PolicyDefinitionId eq ''/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/72c0c41a-c752-4bc0-9c61-0d6adc567066'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 1
                        policyGroups:
                          - policyGroupName: ''
                            results:
                              nonCompliantResources: 7
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 1
                        policySetDefinitionId: ''
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 1
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 1
                      - policyAssignmentId: /providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a
                        policyDefinitions:
                          - effect: audit
                            policyDefinitionId: /providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d
                            policyDefinitionReferenceId: ''
                            results:
                              nonCompliantResources: 1
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'' and PolicyDefinitionId eq ''/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d'''
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 1
                        policyGroups:
                          - policyGroupName: group1
                            results:
                              nonCompliantResources: 100
                              policyDetails:
                                - complianceState: noncompliant
                                  count: 1
                              policyGroupDetails:
                                - complianceState: noncompliant
                                  count: 1
                              queryResultsUri: 'https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter=''group1'' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'' and PolicySetDefinitiontId eq ''/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5'' and ''group1'' IN PolicyDefinitionGroupNames'
                              resourceDetails:
                                - complianceState: compliant
                                  count: 140
                                - complianceState: noncompliant
                                  count: 1
                        policySetDefinitionId: /providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5
                        results:
                          nonCompliantPolicies: 1
                          nonCompliantResources: 1
                          policyDetails:
                            - complianceState: noncompliant
                              count: 1
                          policyGroupDetails:
                            - complianceState: noncompliant
                              count: 1
                          queryResultsUri: 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq ''/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'''
                          resourceDetails:
                            - complianceState: compliant
                              count: 140
                            - complianceState: noncompliant
                              count: 1
                    results:
                      nonCompliantPolicies: 14
                      nonCompliantResources: 1
                      policyDetails:
                        - complianceState: noncompliant
                          count: 2
                      policyGroupDetails:
                        - complianceState: noncompliant
                          count: 1
                      queryResultsUri: 'https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false'
                      resourceDetails:
                        - complianceState: compliant
                          count: 140
                        - complianceState: noncompliant
                          count: 1
definitions:
  ComplianceDetail:
    description: The compliance state rollup.
    properties:
      complianceState:
        description: The compliance state.
        type: string
      count:
        description: Summarized count value for this compliance state.
        format: int32
        type: integer
  ExpressionEvaluationDetails:
    description: Evaluation details of policy language expressions.
    properties:
      expression:
        description: Expression evaluated.
        type: string
      expressionValue:
        description: Value of the expression.
        type: object
      operator:
        description: Operator to compare the expression value and the target value.
        type: string
      path:
        description: Property path if the expression is a field or an alias.
        type: string
      result:
        description: Evaluation result.
        type: string
      targetValue:
        description: Target value to be compared with the expression value.
        type: object
    type: object
  IfNotExistsEvaluationDetails:
    description: Evaluation details of IfNotExists effect.
    properties:
      resourceId:
        description: ID of the last evaluated resource for IfNotExists effect.
        type: string
      totalResources:
        description: Total number of resources to which the existence condition is applicable.
        type: integer
    type: object
  MetadataDocument:
    description: Metadata XML document.
    type: string
  Operation:
    description: Operation definition.
    properties:
      display:
        description: Display metadata associated with the operation.
        properties:
          description:
            description: Operation description.
            type: string
          operation:
            description: Operation name.
            type: string
          provider:
            description: Resource provider name.
            type: string
          resource:
            description: Resource name on which the operation is performed.
            type: string
      name:
        description: Operation name.
        type: string
  OperationsListResults:
    description: List of available operations.
    properties:
      '@odata.count':
        description: OData entity count; represents the number of operations returned.
        format: int32
        minimum: 1
        type: integer
      value:
        description: List of available operations.
        items:
          $ref: '#/definitions/Operation'
        type: array
  PolicyAssignmentSummary:
    description: Policy assignment summary.
    properties:
      policyAssignmentId:
        description: Policy assignment ID.
        type: string
      policyDefinitions:
        description: Policy definitions summary.
        items:
          $ref: '#/definitions/PolicyDefinitionSummary'
        type: array
      policyGroups:
        description: Policy definition group summary.
        items:
          $ref: '#/definitions/PolicyGroupSummary'
        type: array
      policySetDefinitionId:
        description: 'Policy set definition ID, if the policy assignment is for a policy set.'
        type: string
      results:
        $ref: '#/definitions/SummaryResults'
        description: Compliance summary for the policy assignment.
  PolicyDefinitionSummary:
    description: Policy definition summary.
    properties:
      effect:
        description: 'Policy effect, i.e. policy definition action.'
        type: string
      policyDefinitionGroupNames:
        description: Policy definition group names.
        items:
          type: string
        type: array
      policyDefinitionId:
        description: Policy definition ID.
        type: string
      policyDefinitionReferenceId:
        description: Policy definition reference ID.
        type: string
      results:
        $ref: '#/definitions/SummaryResults'
        description: Compliance summary for the policy definition.
  PolicyEvaluationDetails:
    description: Policy evaluation details.
    properties:
      evaluatedExpressions:
        description: Details of the evaluated expressions.
        items:
          $ref: '#/definitions/ExpressionEvaluationDetails'
        type: array
      ifNotExistsDetails:
        $ref: '#/definitions/IfNotExistsEvaluationDetails'
        description: Evaluation details of IfNotExists effect.
        type: object
    type: object
  PolicyGroupSummary:
    description: Policy definition group summary.
    properties:
      policyGroupName:
        description: Policy group name.
        type: string
      results:
        $ref: '#/definitions/SummaryResults'
        description: Compliance summary for the policy definition group.
  PolicyState:
    additionalProperties:
      description: 'The list of key/value pairs for the additional properties, in the format ''key'':''value'' where key = the field name, and value = the field value. By default this is not populated'
    description: Policy state record.
    properties:
      '@odata.context':
        description: OData context string; used by OData clients to resolve type information based on metadata.
        type: string
      '@odata.id':
        description: OData entity ID; always set to null since policy state records do not have an entity ID.
        type: string
      complianceState:
        description: Compliance state of the resource.
        type: string
      effectiveParameters:
        description: Effective parameters for the policy assignment.
        type: string
      isCompliant:
        description: Flag which states whether the resource is compliant against the policy assignment it was evaluated against. This property is deprecated; please use ComplianceState instead.
        type: boolean
      managementGroupIds:
        description: 'Comma separated list of management group IDs, which represent the hierarchy of the management groups the resource is under.'
        type: string
      policyAssignmentId:
        description: Policy assignment ID.
        type: string
      policyAssignmentName:
        description: Policy assignment name.
        type: string
      policyAssignmentOwner:
        description: Policy assignment owner.
        type: string
      policyAssignmentParameters:
        description: Policy assignment parameters.
        type: string
      policyAssignmentScope:
        description: Policy assignment scope.
        type: string
      policyDefinitionAction:
        description: 'Policy definition action, i.e. effect.'
        type: string
      policyDefinitionCategory:
        description: Policy definition category.
        type: string
      policyDefinitionGroupNames:
        description: Policy definition group names.
        items:
          type: string
        type: array
      policyDefinitionId:
        description: Policy definition ID.
        type: string
      policyDefinitionName:
        description: Policy definition name.
        type: string
      policyDefinitionReferenceId:
        description: 'Reference ID for the policy definition inside the policy set, if the policy assignment is for a policy set.'
        type: string
      policyEvaluationDetails:
        $ref: '#/definitions/PolicyEvaluationDetails'
        description: Policy evaluation details.
        type: object
      policySetDefinitionCategory:
        description: 'Policy set definition category, if the policy assignment is for a policy set.'
        type: string
      policySetDefinitionId:
        description: 'Policy set definition ID, if the policy assignment is for a policy set.'
        type: string
      policySetDefinitionName:
        description: 'Policy set definition name, if the policy assignment is for a policy set.'
        type: string
      policySetDefinitionOwner:
        description: 'Policy set definition owner, if the policy assignment is for a policy set.'
        type: string
      policySetDefinitionParameters:
        description: 'Policy set definition parameters, if the policy assignment is for a policy set.'
        type: string
      resourceGroup:
        description: Resource group name.
        type: string
      resourceId:
        description: Resource ID.
        type: string
      resourceLocation:
        description: Resource location.
        type: string
      resourceTags:
        description: List of resource tags.
        type: string
      resourceType:
        description: Resource type.
        type: string
      subscriptionId:
        description: Subscription ID.
        type: string
      timestamp:
        description: Timestamp for the policy state record.
        format: date-time
        type: string
    type: object
  PolicyStatesQueryResults:
    description: Query results.
    properties:
      '@odata.context':
        description: OData context string; used by OData clients to resolve type information based on metadata.
        type: string
      '@odata.count':
        description: OData entity count; represents the number of policy state records returned.
        format: int32
        minimum: 0
        type: integer
      value:
        description: Query results.
        items:
          $ref: '#/definitions/PolicyState'
        type: array
  QueryFailure:
    description: Error response.
    properties:
      error:
        description: Error definition.
        properties:
          code:
            description: Service specific error code which serves as the substatus for the HTTP error code.
            readOnly: true
            type: string
          message:
            description: Description of the error.
            readOnly: true
            type: string
  SummarizeResults:
    description: Summarize action results.
    properties:
      '@odata.context':
        description: OData context string; used by OData clients to resolve type information based on metadata.
        type: string
      '@odata.count':
        description: OData entity count; represents the number of summaries returned; always set to 1.
        format: int32
        maximum: 1
        minimum: 1
        type: integer
      value:
        description: Summarize action results.
        items:
          $ref: '#/definitions/Summary'
        type: array
  Summary:
    description: Summary results.
    properties:
      '@odata.context':
        description: OData context string; used by OData clients to resolve type information based on metadata.
        type: string
      '@odata.id':
        description: OData entity ID; always set to null since summaries do not have an entity ID.
        type: string
      policyAssignments:
        description: Policy assignments summary.
        items:
          $ref: '#/definitions/PolicyAssignmentSummary'
        type: array
      results:
        $ref: '#/definitions/SummaryResults'
        description: Compliance summary for all policy assignments.
  SummaryResults:
    description: Compliance summary on a particular summary level.
    properties:
      nonCompliantPolicies:
        description: Number of non-compliant policies.
        format: int32
        minimum: 0
        type: integer
      nonCompliantResources:
        description: Number of non-compliant resources.
        format: int32
        minimum: 0
        type: integer
      policyDetails:
        description: 'The policy artifact summary at this level. For query scope level, it represents policy assignment summary. For policy assignment level, it represents policy definitions summary.'
        items:
          $ref: '#/definitions/ComplianceDetail'
        type: array
      policyGroupDetails:
        description: The policy definition group summary at this level.
        items:
          $ref: '#/definitions/ComplianceDetail'
        type: array
      queryResultsUri:
        description: 'HTTP POST URI for queryResults action on Microsoft.PolicyInsights to retrieve raw results for the compliance summary. This property will not be available by default in future API versions, but could be queried explicitly.'
        type: string
      resourceDetails:
        description: The resources summary at this level.
        items:
          $ref: '#/definitions/ComplianceDetail'
        type: array
