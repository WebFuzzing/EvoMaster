swagger: '2.0'
schemes:
  - https
host: management.azure.com
info:
  title: CostManagementClient
  version: 2019-03-01-preview
  x-apisguru-categories:
    - cloud
  x-logo:
    url: 'https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png'
  x-origin:
    - format: swagger
      url: 'https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/cost-management/resource-manager/Microsoft.CostManagement/preview/2019-03-01-preview/costmanagement.json'
      version: '2.0'
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: cost-management-costmanagement
  x-tags:
    - Azure
    - Microsoft
consumes:
  - application/json
produces:
  - application/json
securityDefinitions:
  azure_auth:
    authorizationUrl: 'https://login.microsoftonline.com/common/oauth2/authorize'
    description: Azure Active Directory OAuth2 Flow.
    flow: implicit
    scopes:
      user_impersonation: impersonate your user account
    type: oauth2
security:
  - azure_auth:
      - user_impersonation
parameters:
  apiVersionParameter:
    description: Version of the API to be used with the client request. The current version is 2019-03-01-preview
    in: query
    name: api-version
    required: true
    type: string
  billingAccountIdParameter:
    description: BillingAccount ID
    in: path
    name: billingAccountId
    required: true
    type: string
    x-ms-parameter-location: method
  connectorNameParameter:
    description: Connector Name.
    in: path
    name: connectorName
    required: true
    type: string
    x-ms-parameter-location: method
  departmentIdParameter:
    description: Department ID
    in: path
    name: departmentId
    required: true
    type: string
    x-ms-parameter-location: method
  enrollmentAccountIdParameter:
    description: Enrollment Account ID
    in: path
    name: enrollmentAccountId
    required: true
    type: string
    x-ms-parameter-location: method
  externalBillingAccountNameParameter:
    description: 'External Billing Account Name. (eg ''aws-{PayerAccountId}'')'
    in: path
    name: externalBillingAccountName
    required: true
    type: string
    x-ms-parameter-location: method
  externalSubscriptionNameParameter:
    description: 'External Subscription Name. (eg ''aws-{UsageAccountId}'')'
    in: path
    name: externalSubscriptionName
    required: true
    type: string
    x-ms-parameter-location: method
  managementGroupIdParameter:
    description: ManagementGroup ID
    in: path
    name: managementGroupId
    required: true
    type: string
    x-ms-parameter-location: method
  resourceGroupNameParameter:
    description: Azure Resource Group Name.
    in: path
    name: resourceGroupName
    required: true
    type: string
    x-ms-parameter-location: method
  ruleNameParameter:
    description: Showback rule name
    in: path
    name: ruleName
    required: true
    type: string
    x-ms-parameter-location: method
  subscriptionIdParameter:
    description: Azure Subscription ID.
    in: path
    name: subscriptionId
    required: true
    type: string
paths:
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/departments/{departmentId}/providers/Microsoft.CostManagement/Forecast':
    post:
      description: Forecast the usage data for department.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Forecast_UsageByDepartment
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/departmentIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Forecast
      x-ms-examples:
        DepartmentForecast:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            departmentId: '123'
            parameters:
              dataset:
                filter:
                  and:
                    - or:
                        - dimension:
                            name: SubscriptionName
                            operator: In
                            values:
                              - Azure Dev Subscription
                              - Azure Prod Subscription
                              - Azure PPE Subscription
                        - tag:
                            name: Environment
                            operator: In
                            values:
                              - Dev
                              - PPE
                              - Prod
                    - dimension:
                        name: AccountName
                        operator: In
                        values:
                          - Azure Account
                granularity: Daily
              timePeriod:
                from: '2018-10-01T00:00:00.000Z'
                to: '2018-12-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/departments/123/providers/Microsoft.CostManagement/Forecast/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: CostStatus
                          type: String
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/departments/123/providers/Microsoft.CostManagement/Forecast?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - 20181026
                          - Actual
                          - USD
                        - - 20.41179241293923
                          - 20181027
                          - Actual
                          - USD
                        - - 21.35941656262545
                          - 20181028
                          - Actual
                          - USD
                        - - 22.545363672276512
                          - 20181029
                          - Forecast
                          - USD
                        - - 23.41979241290323
                          - 20181030
                          - Forecast
                          - USD
                        - - 24.35941656262545
                          - 20181031
                          - Forecast
                          - USD
                    type: microsoft.costmanagement/Forecast
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/departments/{departmentId}/providers/Microsoft.CostManagement/Query':
    post:
      description: Query the usage data for department.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Query_UsageByDepartment
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/departmentIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Query
      x-ms-examples:
        DepartmentQuery:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            departmentId: '123'
            parameters:
              dataset:
                filter:
                  and:
                    - or:
                        - dimension:
                            name: SubscriptionName
                            operator: In
                            values:
                              - Azure Dev Subscription
                              - Azure Prod Subscription
                              - Azure PPE Subscription
                        - tag:
                            name: Environment
                            operator: In
                            values:
                              - Dev
                              - PPE
                              - Prod
                    - dimension:
                        name: AccountName
                        operator: In
                        values:
                          - Azure Account
                granularity: Daily
              timePeriod:
                from: '2018-10-01T00:00:00.000Z'
                to: '2018-12-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/departments/123/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/departments/123/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - 20181031
                          - USD
                        - - 173.41979241290323
                          - 20181031
                          - USD
                        - - 20.35941656262545
                          - 20181031
                          - USD
                    type: microsoft.costmanagement/Query
        DepartmentQueryGroupingUsage:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            departmentId: '123'
            parameters:
              dataset:
                aggregation:
                  totalCost:
                    function: Sum
                    name: PreTaxCost
                granularity: None
                grouping:
                  - name: AccountName
                    type: Dimension
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/departments/123/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: AccountName
                          type: String
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/departments/123/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - Azure Dev Account
                          - USD
                        - - 173.41979241290323
                          - Azure PPE Account
                          - USD
                        - - 20.35941656262545
                          - Azure Prod Account
                          - USD
                    type: microsoft.costmanagement/Query
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/departments/{departmentId}/providers/Microsoft.CostManagement/dimensions':
    get:
      description: Lists the dimensions by Department Id.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Dimensions_ListByDepartment
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/departmentIdParameter'
        - description: 'May be used to filter dimensions by properties/category, properties/usageStart, properties/usageEnd. Supported operators are ''eq'',''lt'', ''gt'', ''le'', ''ge''.'
          in: query
          name: $filter
          required: false
          type: string
        - description: 'May be used to expand the properties/data within a dimension category. By default, data is not included when listing dimensions.'
          in: query
          name: $expand
          required: false
          type: string
        - description: 'Skiptoken is only used if a previous operation returned a partial result. If a previous response contains a nextLink element, the value of the nextLink element will include a skiptoken parameter that specifies a starting point to use for subsequent calls.'
          in: query
          name: $skiptoken
          required: false
          type: string
        - description: May be used to limit the number of results to the most recent N dimension data.
          in: query
          maximum: 1000
          minimum: 1
          name: $top
          required: false
          type: integer
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/DimensionsListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Dimensions
      x-ms-examples:
        DepartmentDimensionsList:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            departmentId: '123'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/departments/123/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31
                    properties:
                      category: ResourceGroup
                      data: []
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 377
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Billing/billingAccounts/100/departments/123/providers/microsoft.consumption/dimensions_ResourceType_2018-12-01_2018-12-31
                    name: dimensions_ResourceType_2018-12-01_2018-12-31
                    properties:
                      category: ResourceType
                      data: []
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        DepartmentDimensionsListExpandAndTop:
          parameters:
            $expand: properties/data
            $top: 5
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            departmentId: '123'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/departments/123/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceGroup
                      data:
                        - thoroetrg01
                        - default-notificationhubs-westus
                        - jedikeyvaultrg
                        - contosocodeflow8d4a
                        - noobaa
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 377
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Billing/billingAccounts/100/departments/123/providers/microsoft.consumption/dimensions_ResourceType_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceType_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceType
                      data:
                        - microsoft.automation/automationaccounts
                        - microsoft.databricks/workspaces
                        - microsoft.dbformysql/servers
                        - microsoft.containerregistry/registries
                        - microsoft.search/searchservices
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        DepartmentDimensionsListWithFilter:
          parameters:
            $expand: properties/data
            $filter: properties/category eq 'resourceId'
            $top: 5
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            departmentId: '123'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/departments/123/providers/microsoft.consumption/dimensions_ResourceId_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceId_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceId
                      data:
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/urphealthaccount
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/srphytenaccount
                        - /subscriptions/67e24f6b-1ec2-4c90-993a-dc2d25b00b6c/resourcegroups/defaultresourcegroup-eus/providers/microsoft.operationalinsights/workspaces/defaultworkspace-67e24f6b-1ec2-4c90-993a-dc2d25b00b6c-eus
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rg-sql-ha/providers/microsoft.compute/virtualmachines/sql-4qqp1
                        - /subscriptions/a98d6dc5-eb8f-46cf-8938-f1fb08f03706/resourcegroups/databricks-rg-testwsp-xijmsdubneexm/providers/microsoft.compute/disks/488cdb42bf74474a98075415be3f806c-containerrootvolume
                      description: Resource Id
                      filterEnabled: true
                      groupingEnabled: true
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/100/departments/123/providers/Microsoft.Consumption/Dimensions?$filter=properties/category eq ''resourceId''&$top=5&api-version=2019-03-01-preview&$expand=properties/data&$skiptoken=AQAAAA%3D%3D'
                      total: 1409
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
      x-ms-odata: '#/definitions/Dimension'
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/enrollmentAccounts/{enrollmentAccountId}/providers/Microsoft.CostManagement/Forecast':
    post:
      description: Forecast the usage data for an enrollment account.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Forecast_UsageByEnrollmentAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/enrollmentAccountIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Forecast
      x-ms-examples:
        EnrollmentAccountForecast:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            enrollmentAccountId: '456'
            parameters:
              dataset:
                filter:
                  or:
                    - dimension:
                        name: SubscriptionName
                        operator: In
                        values:
                          - Azure Dev Subscription
                          - Azure Prod Subscription
                          - Azure PPE Subscription
                    - tag:
                        name: Environment
                        operator: In
                        values:
                          - Dev
                          - PPE
                          - Prod
                granularity: Daily
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/enrollmentAccounts/456/providers/Microsoft.CostManagement/Forecast/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: CostStatus
                          type: String
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/enrollmentAccounts/456/providers/Microsoft.CostManagement/Forecast?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 168.54532346722763
                          - 20180826
                          - Actual
                          - USD
                        - - 169.41979241290343
                          - 20180927
                          - Actual
                          - USD
                        - - 170.35941656233845
                          - 20181028
                          - Actual
                          - USD
                        - - 172.54536323427652
                          - 20180829
                          - Forecast
                          - USD
                        - - 173.41979241290323
                          - 20180930
                          - Forecast
                          - USD
                        - - 174.35941656262546
                          - 20181031
                          - Forecast
                          - USD
                    type: microsoft.costmanagement/Forecast
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/enrollmentAccounts/{enrollmentAccountId}/providers/Microsoft.CostManagement/Query':
    post:
      description: Query the usage data for an enrollment account.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Query_UsageByEnrollmentAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/enrollmentAccountIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Query
      x-ms-examples:
        EnrollmentAccountQuery:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            enrollmentAccountId: '456'
            parameters:
              dataset:
                filter:
                  or:
                    - dimension:
                        name: SubscriptionName
                        operator: In
                        values:
                          - Azure Dev Subscription
                          - Azure Prod Subscription
                          - Azure PPE Subscription
                    - tag:
                        name: Environment
                        operator: In
                        values:
                          - Dev
                          - PPE
                          - Prod
                granularity: Daily
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/enrollmentAccounts/456/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/enrollmentAccounts/456/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - 20180831
                          - USD
                        - - 173.41979241290323
                          - 20180930
                          - USD
                        - - 20.35941656262545
                          - 20181031
                          - USD
                    type: microsoft.costmanagement/Query
        EnrollmentAccountQueryGroupingUsage:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            enrollmentAccountId: '456'
            parameters:
              dataset:
                aggregation:
                  totalCost:
                    function: Sum
                    name: PreTaxCost
                granularity: Daily
                grouping:
                  - name: SubscriptionName
                    type: Dimension
                sorting:
                  - name: UsageDate
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/enrollmentAccounts/456/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: SubscriptionName
                          type: String
                        - name: UsageDate
                          type: Number
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/enrollmentAccounts/456/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - Azure Dev Subscription
                          - 20180831
                          - USD
                        - - 173.41979241290323
                          - Azure PPE Subscription
                          - 20180930
                          - USD
                        - - 20.35941656262545
                          - Azure Prod Subscription
                          - 20181031
                          - USD
                    type: microsoft.costmanagement/Query
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/enrollmentAccounts/{enrollmentAccountId}/providers/Microsoft.CostManagement/dimensions':
    get:
      description: Lists the dimensions by Enrollment Account Id.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Dimensions_ListByEnrollmentAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/enrollmentAccountIdParameter'
        - description: 'May be used to filter dimensions by properties/category, properties/usageStart, properties/usageEnd. Supported operators are ''eq'',''lt'', ''gt'', ''le'', ''ge''.'
          in: query
          name: $filter
          required: false
          type: string
        - description: 'May be used to expand the properties/data within a dimension category. By default, data is not included when listing dimensions.'
          in: query
          name: $expand
          required: false
          type: string
        - description: 'Skiptoken is only used if a previous operation returned a partial result. If a previous response contains a nextLink element, the value of the nextLink element will include a skiptoken parameter that specifies a starting point to use for subsequent calls.'
          in: query
          name: $skiptoken
          required: false
          type: string
        - description: May be used to limit the number of results to the most recent N dimension data.
          in: query
          maximum: 1000
          minimum: 1
          name: $top
          required: false
          type: integer
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/DimensionsListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Dimensions
      x-ms-examples:
        EnrollmentAccountDimensionsList:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            enrollmentAccountId: '456'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/enrollmentAccounts/456/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31
                    properties:
                      category: ResourceGroup
                      data: []
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 377
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Billing/billingAccounts/100/enrollmentAccounts/456/providers/microsoft.consumption/dimensions_ResourceType_2018-12-01_2018-12-31
                    name: dimensions_ResourceType_2018-12-01_2018-12-31
                    properties:
                      category: ResourceType
                      data: []
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        EnrollmentAccountDimensionsListExpandAndTop:
          parameters:
            $expand: properties/data
            $top: 5
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            enrollmentAccountId: '456'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/enrollmentAccounts/456/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceGroup
                      data:
                        - thoroetrg01
                        - default-notificationhubs-westus
                        - jedikeyvaultrg
                        - contosocodeflow8d4a
                        - noobaa
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 377
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Billing/billingAccounts/100/enrollmentAccounts/456/providers/microsoft.consumption/dimensions_ResourceType_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceType_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceType
                      data:
                        - microsoft.automation/automationaccounts
                        - microsoft.databricks/workspaces
                        - microsoft.dbformysql/servers
                        - microsoft.containerregistry/registries
                        - microsoft.search/searchservices
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        EnrollmentAccountDimensionsListWithFilter:
          parameters:
            $expand: properties/data
            $filter: properties/category eq 'resourceId'
            $top: 5
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            enrollmentAccountId: '456'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/enrollmentAccounts/456/providers/microsoft.consumption/dimensions_ResourceId_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceId_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceId
                      data:
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/urphealthaccount
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/srphytenaccount
                        - /subscriptions/67e24f6b-1ec2-4c90-993a-dc2d25b00b6c/resourcegroups/defaultresourcegroup-eus/providers/microsoft.operationalinsights/workspaces/defaultworkspace-67e24f6b-1ec2-4c90-993a-dc2d25b00b6c-eus
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rg-sql-ha/providers/microsoft.compute/virtualmachines/sql-4qqp1
                        - /subscriptions/a98d6dc5-eb8f-46cf-8938-f1fb08f03706/resourcegroups/databricks-rg-testwsp-xijmsdubneexm/providers/microsoft.compute/disks/488cdb42bf74474a98075415be3f806c-containerrootvolume
                      description: Resource Id
                      filterEnabled: true
                      groupingEnabled: true
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/100/enrollmentAccounts/456/providers/Microsoft.Consumption/Dimensions?$filter=properties/category eq ''resourceId''&$top=5&api-version=2019-03-01-preview&$expand=properties/data&$skiptoken=AQAAAA%3D%3D'
                      total: 1409
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
      x-ms-odata: '#/definitions/Dimension'
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/Forecast':
    post:
      description: Forecast the usage data for billing account.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Forecast_UsageByBillingAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Forecast
      x-ms-examples:
        BillingAccountForecast:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            parameters:
              dataset:
                filter:
                  and:
                    - or:
                        - dimension:
                            name: SubscriptionName
                            operator: In
                            values:
                              - Azure Dev
                              - Azure Prod
                              - Azure PPE
                        - tag:
                            name: Environment
                            operator: In
                            values:
                              - Dev
                              - PPE
                              - Prod
                    - dimension:
                        name: DepartmentName
                        operator: In
                        values:
                          - Azure Dept
                granularity: Daily
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Forecast/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: CostStatus
                          type: String
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Forecast?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - 20180831
                          - Actual
                          - USD
                        - - 20.41979233490323
                          - 20180930
                          - Actual
                          - USD
                        - - 21.322216562625453
                          - 20181031
                          - Actual
                          - USD
                        - - 22.545363672276533
                          - 20180831
                          - Actual
                          - USD
                        - - 23.41979675590323
                          - 20180930
                          - Forecast
                          - USD
                        - - 24.359416562626652
                          - 20181031
                          - Forecast
                          - USD
                    type: microsoft.costmanagement/Forecast
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/Query':
    post:
      description: Query the usage data for billing account.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Query_UsageByBillingAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Query
      x-ms-examples:
        BillingAccountQuery:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            parameters:
              dataset:
                filter:
                  and:
                    - or:
                        - dimension:
                            name: SubscriptionName
                            operator: In
                            values:
                              - Azure Dev
                              - Azure Prod
                              - Azure PPE
                        - tag:
                            name: Environment
                            operator: In
                            values:
                              - Dev
                              - PPE
                              - Prod
                    - dimension:
                        name: DepartmentName
                        operator: In
                        values:
                          - Azure Dept
                granularity: Daily
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - 20180831
                          - USD
                        - - 173.41979241290323
                          - 20180930
                          - USD
                        - - 20.35941656262545
                          - 20181031
                          - USD
                    type: microsoft.costmanagement/Query
        BillingAccountQueryGroupingUsage:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '70664866'
            parameters:
              dataset:
                aggregation:
                  totalCost:
                    function: Sum
                    name: PreTaxCost
                granularity: None
                grouping:
                  - name: SubscriptionName
                    type: Dimension
              timePeriod:
                from: '2018-10-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: SubscriptionName
                          type: String
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - Trial Subscription
                          - USD
                        - - 173.41979241290323
                          - DEV Subscription
                          - USD
                        - - 20.35941656262545
                          - Cost Management Subscrioption
                          - USD
                    type: microsoft.costmanagement/Query
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/dimensions':
    get:
      description: Lists the dimensions by billingAccount Id.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Dimensions_ListByBillingAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - description: 'May be used to filter dimensions by properties/category, properties/usageStart, properties/usageEnd. Supported operators are ''eq'',''lt'', ''gt'', ''le'', ''ge''.'
          in: query
          name: $filter
          required: false
          type: string
        - description: 'May be used to expand the properties/data within a dimension category. By default, data is not included when listing dimensions.'
          in: query
          name: $expand
          required: false
          type: string
        - description: 'Skiptoken is only used if a previous operation returned a partial result. If a previous response contains a nextLink element, the value of the nextLink element will include a skiptoken parameter that specifies a starting point to use for subsequent calls.'
          in: query
          name: $skiptoken
          required: false
          type: string
        - description: May be used to limit the number of results to the most recent N dimension data.
          in: query
          maximum: 1000
          minimum: 1
          name: $top
          required: false
          type: integer
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/DimensionsListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Dimensions
      x-ms-examples:
        BillingAccountDimensionsList:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '100'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31
                    properties:
                      category: SubscriptionGuid
                      data: []
                      description: Subscription Guid
                      filterEnabled: true
                      groupingEnabled: true
                      total: 3
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceType_2018-12-01_2018-12-31
                    name: dimensions_ResourceType_2018-12-01_2018-12-31
                    properties:
                      category: Account Name
                      data: []
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        BillingAccountDimensionsListExpandAndTop:
          parameters:
            $expand: properties/data
            $top: 5
            api-version: 2019-03-01-preview
            billingAccountId: '100'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceGroup
                      data:
                        - thoroetrg01
                        - default-notificationhubs-westus
                        - jedikeyvaultrg
                        - contosocodeflow8d4a
                        - noobaa
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 377
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceType_2018-12-31_2018-12-31_5
                    name: dimensions_ResourceType_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceType
                      data:
                        - microsoft.automation/automationaccounts
                        - microsoft.databricks/workspaces
                        - microsoft.dbformysql/servers
                        - microsoft.containerregistry/registries
                        - microsoft.search/searchservices
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        BillingAccountDimensionsListWithFilter:
          parameters:
            $expand: properties/data
            $filter: properties/category eq 'resourceId'
            $top: 5
            api-version: 2019-03-01-preview
            billingAccountId: '100'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceId_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceId_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceId
                      data:
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/urphealthaccount
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/srphytenaccount
                        - /subscriptions/67e24f6b-1ec2-4c90-993a-dc2d25b00b6c/resourcegroups/defaultresourcegroup-eus/providers/microsoft.operationalinsights/workspaces/defaultworkspace-67e24f6b-1ec2-4c90-993a-dc2d25b00b6c-eus
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rg-sql-ha/providers/microsoft.compute/virtualmachines/sql-4qqp1
                        - /subscriptions/a98d6dc5-eb8f-46cf-8938-f1fb08f03706/resourcegroups/databricks-rg-testwsp-xijmsdubneexm/providers/microsoft.compute/disks/488cdb42bf74474a98075415be3f806c-containerrootvolume
                      description: Resource Id
                      filterEnabled: true
                      groupingEnabled: true
                      nextLink: 'http://management.azure.com/ccmapi/providers/Microsoft.Billing/billingAccounts/100/providers/Microsoft.Consumption/Dimensions?$filter=properties/category eq ''resourceId''&$top=5&api-version=2019-03-01-preview&$expand=properties/data&$skiptoken=AQAAAA%3D%3D'
                      total: 1409
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
      x-ms-odata: '#/definitions/Dimension'
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/showbackRules':
    get:
      description: Get list all Showback Rules.
      operationId: ShowbackRules_List
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ShowbackRuleListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ShowbackRules
      x-ms-examples:
        ShowbackRules_List:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '100'
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Billing/billingAccounts/100/providers/Microsoft.CostManagement/showbackRules/testRule
                    name: testRule
                    properties:
                      creationTime: '2019-01-16T09:18:20.8665509Z'
                      deprecationTime: '2019-03-16T09:18:20.8665509Z'
                      description: This is a testRule
                      details:
                        benefits:
                          - None
                        markups: null
                        pricesheet: Pay-As-You-Go (0003P)
                      modificationTime: '2019-01-17T09:18:20.8665509Z'
                      ruleType: CustomPrice
                      scopes: null
                      status: NotActive
                      version: 1
                    type: Microsoft.CostManagement/showbackRules
  '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/showbackRules/{ruleName}':
    get:
      description: Gets the showback rule by rule name.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ShowbackRule_GetBillingAccountId
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/ruleNameParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ShowbackRule'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ShowbackRules
      x-ms-examples:
        ShowbackRules:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            ruleName: testRule
          responses:
            '200':
              body:
                id: providers/Microsoft.Billing/billingAccounts/100/providers/Microsoft.CostManagement/showbackRules/testRule
                name: testRule
                properties:
                  creationTime: '2019-01-16T09:18:20.8665509Z'
                  deprecationTime: '2019-03-16T09:18:20.8665509Z'
                  description: This is a testRule
                  details:
                    benefits:
                      - None
                    markups: null
                    pricesheet: Pay-As-You-Go (0003P)
                  modificationTime: '2019-01-17T09:18:20.8665509Z'
                  ruleType: CustomPrice
                  scopes: null
                  status: NotActive
                  version: 1
                type: Microsoft.CostManagement/showbackRules
    put:
      description: Create/Update showback rule for billing account.
      operationId: ShowbackRule_CreateUpdateRule
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/billingAccountIdParameter'
        - $ref: '#/parameters/ruleNameParameter'
        - description: Showback rule to create or update.
          in: body
          name: showbackRule
          required: true
          schema:
            $ref: '#/definitions/ShowbackRule'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ShowbackRule'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ShowbackRules
      x-ms-examples:
        ShowbackRules:
          parameters:
            api-version: 2019-03-01-preview
            billingAccountId: '100'
            ruleName: testRule
            showbackRule:
              name: demo
              properties:
                description: Welcome to Showback demo
                details:
                  benefits:
                    - None
                  markups:
                    - percentage: '1.1'
                  pricesheet: Pay-As-You-Go (0003P)
                ruleType: CustomPrice
                scopes:
                  - childScope: null
                    id: 292105a9-680d-48cf-bdad-1d023104d69f
                    type: Enrollment
                status: Active
          responses:
            '200':
              body:
                id: providers/Microsoft.Billing/billingAccounts/71824150/providers/Microsoft.CostManagement/showbackRules/demo
                name: demo
                properties:
                  creationTime: '2019-01-16T09:18:20.8665509Z'
                  deprecationTime: '2019-03-16T09:18:20.8665509Z'
                  description: Welcome to Showback demo
                  details:
                    benefits:
                      - None
                    markups:
                      - percentage: '1.1'
                    pricesheet: Pay-As-You-Go (0003P)
                  modificationTime: '2019-01-17T09:18:20.8665509Z'
                  ruleType: CustomPrice
                  scopes: null
                  status: NotActive
                  version: 999
                type: Microsoft.CostManagement/showbackRules
  /providers/Microsoft.CostManagement/cloudConnectors:
    get:
      description: List all cloud connector definitions
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: CloudConnector_List
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ConnectorDefinitionListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - CloudConnectors
      x-ms-examples:
        CloudConnector_List:
          parameters:
            api-version: 2019-03-01-preview
          responses:
            '200':
              body:
                value:
                  - id: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                    kind: aws
                    name: aws-123456789012
                    properties:
                      billingModel: autoUpgrade
                      createdOn: '2018-05-15T13:25:48Z'
                      credentialsKey: 'arn:aws:iam::123456789012:role/AzureCostManagementRole'
                      daysTrialRemaining: 62
                      defaultManagementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                      displayName: AWS-Consolidated-1
                      externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                      modifiedOn: '2018-05-23T09:21:11Z'
                      providerBillingAccountDisplayName: MyCompany Consolidated
                      providerBillingAccountId: '123456789012'
                      reportId: HourlyWithResources
                      status: active
                      subscriptionId: 22222222-3333-4444-1111-777777777777
                    type: Microsoft.CostManagement/cloudConnectors
                  - id: /providers/Microsoft.CostManagement/cloudConnectors/aws-100000000007
                    kind: aws
                    name: aws-100000000007
                    properties:
                      billingModel: premium
                      createdOn: '2018-06-16T11:23:44Z'
                      credentialsKey: 'arn:aws:iam::100000000007:role/AzureCostManagementRole'
                      defaultManagementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                      displayName: AWS-Consolidated-2
                      externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-100000000007
                      modifiedOn: '2018-06-21T17:33:28Z'
                      providerBillingAccountId: '100000000007'
                      reportId: CURHourlyWithResources
                      status: active
                      subscriptionId: 22222222-3333-4444-1111-777777777777
                    type: Microsoft.CostManagement/cloudConnectors
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.CostManagement/cloudConnectors/{connectorName}':
    delete:
      description: Delete a cloud connector definition
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: CloudConnector_Delete
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/connectorNameParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - CloudConnectors
      x-ms-examples:
        CloudConnector_Delete:
          parameters:
            api-version: 2019-03-01-preview
            connectorName: aws-123456789012
          responses:
            '200': {}
    get:
      description: Get a cloud connector definition
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: CloudConnector_Get
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/connectorNameParameter'
        - description: 'May be used to expand the collectionInfo property. By default, collectionInfo is not included.'
          in: query
          name: $expand
          required: false
          type: string
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ConnectorDefinition'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - CloudConnectors
      x-ms-examples:
        CloudConnector_Get:
          parameters:
            api-version: 2019-03-01-preview
            connectorName: aws-123456789012
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                kind: aws
                name: aws-123456789012
                properties:
                  billingModel: autoUpgrade
                  createdOn: '2018-05-15T13:25:48Z'
                  credentialsKey: 'arn:aws:iam::123456789012:role/AzureCostManagementRole'
                  daysTrialRemaining: 62
                  defaultManagementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                  displayName: AWS-Consolidated-1
                  externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                  modifiedOn: '2018-05-23T09:21:11Z'
                  providerBillingAccountDisplayName: MyCompany Consolidated
                  providerBillingAccountId: '123456789012'
                  reportId: HourlyWithResources
                  status: active
                  subscriptionId: 22222222-3333-4444-1111-777777777777
                type: Microsoft.CostManagement/cloudConnectors
        CloudConnector_Get_Expand:
          parameters:
            $expand: collectionInfo
            api-version: 2019-03-01-preview
            connectorName: aws-123456789012
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                kind: aws
                name: aws-123456789012
                properties:
                  billingModel: autoUpgrade
                  collectionInfo:
                    error:
                      errorCode: FailedToAssumeRole
                      errorInnerMessage: 'Insufficient access to assume role arn:aws:iam::123456789012:role/AzureCostManagementRole'
                      errorMessage: Failed to assume role
                      errorStartTime: '2018-06-12T21:41:03Z'
                    lastChecked: '2018-06-15T03:21:08Z'
                    lastUpdated: '2018-06-12T17:25:28Z'
                    sourceLastUpdated: '2018-06-12T16:41:28Z'
                  createdOn: '2018-05-15T13:25:48Z'
                  credentialsKey: 'arn:aws:iam::123456789012:role/AzureCostManagementRole'
                  daysTrialRemaining: 62
                  defaultManagementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                  displayName: AWS-Consolidated-1
                  externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                  modifiedOn: '2018-05-23T09:21:11Z'
                  providerBillingAccountDisplayName: MyCompany Consolidated
                  providerBillingAccountId: '123456789012'
                  reportId: HourlyWithResources
                  status: warning
                  subscriptionId: 22222222-3333-4444-1111-777777777777
                type: Microsoft.CostManagement/cloudConnectors
    patch:
      description: Update a cloud connector definition
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: CloudConnector_Update
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/connectorNameParameter'
        - description: Connector details
          in: body
          name: connector
          required: true
          schema:
            $ref: '#/definitions/ConnectorDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ConnectorDefinition'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - CloudConnectors
      x-ms-examples:
        CloudConnector_Update:
          parameters:
            api-version: 2019-03-01-preview
            connector: {}
            connectorName: aws-123456789012
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                kind: aws
                name: aws-123456789012
                properties:
                  billingModel: autoUpgrade
                  createdOn: '2018-05-15T13:25:48Z'
                  credentialsKey: 'arn:aws:iam::123456789012:role/AzureCostManagementRole'
                  daysTrialRemaining: 62
                  defaultManagementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                  displayName: AWS-Consolidated-3
                  externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                  modifiedOn: '2018-05-23T09:21:11Z'
                  providerBillingAccountId: '123456789012'
                  reportId: HourlyWithResources
                  status: active
                  subscriptionId: 22222222-3333-4444-1111-777777777777
                type: Microsoft.CostManagement/cloudConnectors
    put:
      description: Create or update a cloud connector definition
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: CloudConnector_CreateOrUpdate
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/connectorNameParameter'
        - description: Connector details
          in: body
          name: connector
          required: true
          schema:
            $ref: '#/definitions/ConnectorDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ConnectorDefinition'
        '201':
          description: Created.
          schema:
            $ref: '#/definitions/ConnectorDefinition'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - CloudConnectors
      x-ms-examples:
        CloudConnector_Put:
          parameters:
            api-version: 2019-03-01-preview
            connector:
              properties:
                credentialsKey: 'arn:aws:iam::123456789012:role/AzureCostManagementRole'
                credentialsSecret: external-id
                displayName: AWS-Consolidated-1
                reportId: HourlyWithResources
            connectorName: aws-123456789012
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                kind: aws
                name: aws-123456789012
                properties:
                  billingModel: autoUpgrade
                  createdOn: '2018-05-15T13:25:48Z'
                  credentialsKey: 'arn:aws:iam::123456789012:role/AzureCostManagementRole'
                  daysTrialRemaining: 62
                  defaultManagementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                  displayName: AWS-Consolidated-1
                  externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                  modifiedOn: '2018-05-23T09:21:11Z'
                  providerBillingAccountId: '123456789012'
                  reportId: HourlyWithResources
                  status: active
                  subscriptionId: 22222222-3333-4444-1111-777777777777
                type: Microsoft.CostManagement/cloudConnectors
            '201':
              body:
                id: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                kind: aws
                name: aws-123456789012
                properties:
                  billingModel: autoUpgrade
                  createdOn: '2018-05-15T13:25:48Z'
                  credentialsKey: 'arn:aws:iam::123456789012:role/AzureCostManagementRole'
                  daysTrialRemaining: 62
                  defaultManagementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                  displayName: AWS-Consolidated-1
                  externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                  modifiedOn: '2018-05-23T09:21:11Z'
                  providerBillingAccountId: '123456789012'
                  reportId: HourlyWithResources
                  status: active
                  subscriptionId: 22222222-3333-4444-1111-777777777777
                type: Microsoft.CostManagement/cloudConnectors
  /providers/Microsoft.CostManagement/externalBillingAccounts:
    get:
      description: List all ExternalBillingAccount definitions
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ExternalBillingAccount_List
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ExternalBillingAccountDefinitionListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ExternalBillingAccounts
      x-ms-examples:
        ExternalBillingAccount_List:
          parameters:
            api-version: 2019-03-01-preview
          responses:
            '200':
              body:
                value:
                  - id: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                    kind: aws
                    name: aws-123456789012
                    properties:
                      connectorId: /providers/Microsoft.CostManagement/cloudConnectors/12345678-9012-3456-7890-111111111111
                      displayName: MyCompany Consolidated
                      providerBillingAccountId: '123456789012'
                    type: Microsoft.CostManagement/externalBillingAccounts
                  - id: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-112233445566
                    kind: aws
                    name: aws-112233445566
                    properties:
                      connectorId: /providers/Microsoft.CostManagement/cloudConnectors/11111111-2222-3333-4444-555555555555
                      displayName: MyCompany Consolidated2
                      providerBillingAccountId: '112233445566'
                    type: Microsoft.CostManagement/externalBillingAccounts
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.CostManagement/externalBillingAccounts/{externalBillingAccountName}':
    get:
      description: Get a ExternalBillingAccount definition
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ExternalBillingAccount_Get
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/externalBillingAccountNameParameter'
        - description: 'May be used to expand the collectionInfo property. By default, collectionInfo is not included.'
          in: query
          name: $expand
          required: false
          type: string
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ExternalBillingAccountDefinition'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ExternalBillingAccounts
      x-ms-examples:
        ExternalBillingAccount_Get:
          parameters:
            api-version: 2019-03-01-preview
            externalBillingAccountName: aws-123456789012
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                kind: aws
                name: aws-123456789012
                properties:
                  connectorId: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                  displayName: MyCompany Consolidated
                  providerBillingAccountId: '123456789012'
                type: Microsoft.CostManagement/externalBillingAccounts
        ExternalBillingAccount_Get_Expand:
          parameters:
            $expand: collectionInfo
            api-version: 2019-03-01-preview
            externalBillingAccountName: aws-123456789012
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                kind: aws
                name: aws-123456789012
                properties:
                  collectionInfo:
                    lastUpdated: '2018-06-12T17:25:28Z'
                    sourceLastUpdated: '2018-06-12T16:41:28Z'
                  connectorId: /providers/Microsoft.CostManagement/cloudConnectors/aws-123456789012
                  displayName: MyCompany Consolidated
                  providerBillingAccountId: '123456789012'
                type: Microsoft.CostManagement/externalBillingAccounts
  '/providers/Microsoft.CostManagement/externalBillingAccounts/{externalBillingAccountName}/Forecast':
    post:
      description: Forecast the usage data for external billing account.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Forecast_UsageByExternalBillingAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/externalBillingAccountNameParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Forecast
      x-ms-examples:
        ExternalBillingAccountForecast:
          parameters:
            api-version: 2019-03-01-preview
            externalBillingAccountName: aws-123456789012
            parameters:
              dataset:
                filter:
                  and:
                    - or:
                        - dimension:
                            name: SubscriptionName
                            operator: In
                            values:
                              - Azure Dev
                              - Azure Prod
                              - Azure PPE
                        - tag:
                            name: Environment
                            operator: In
                            values:
                              - Dev
                              - PPE
                              - Prod
                    - dimension:
                        name: DepartmentName
                        operator: In
                        values:
                          - Azure Dept
                granularity: Daily
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012/Forecast/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: CostStatus
                          type: String
                        - name: Currency
                          type: String
                      nextLink: null
                      rows:
                        - - 19.545363672276512
                          - 20180831
                          - Actual
                          - USD
                        - - 20.41979233490323
                          - 20180930
                          - Actual
                          - USD
                        - - 21.322216562625453
                          - 20181031
                          - Actual
                          - USD
                        - - 22.545363672276533
                          - 20180831
                          - Actual
                          - USD
                        - - 23.41979675590323
                          - 20180930
                          - Forecast
                          - USD
                        - - 24.359416562626652
                          - 20181031
                          - Forecast
                          - USD
                    type: Microsoft.CostManagement/forecast
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.CostManagement/externalBillingAccounts/{externalBillingAccountName}/externalSubscriptions':
    get:
      description: List all ExternalSubscriptions by ExternalBillingAccount definitions
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ExternalSubscription_ListByExternalBillingAccount
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/externalBillingAccountNameParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ExternalSubscriptionDefinitionListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ExternalSubscriptions
      x-ms-examples:
        ExternalBillingAccountExternalSubscription_List:
          parameters:
            api-version: 2019-03-01-preview
            externalBillingAccountName: aws-123456789012
          responses:
            '200':
              body:
                value:
                  - id: /providers/Microsoft.CostManagement/externalSubscriptions/aws-654321654321
                    kind: aws
                    name: aws-654321654321
                    properties:
                      displayName: MyUsageAccount1
                      externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                      managementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                      providerAccountId: '654321654321'
                      providerBillingAccountId: '123456789012'
                    type: Microsoft.CostManagement/externalSubscriptions
      x-ms-pageable:
        nextLinkName: null
  /providers/Microsoft.CostManagement/externalSubscriptions:
    get:
      description: List all ExternalSubscription definitions
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ExternalSubscription_List
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ExternalSubscriptionDefinitionListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ExternalSubscriptions
      x-ms-examples:
        ExternalSubscription_List:
          parameters:
            api-version: 2019-03-01-preview
          responses:
            '200':
              body:
                value:
                  - id: /providers/Microsoft.CostManagement/externalSubscriptions/aws-654321654321
                    kind: aws
                    name: aws-654321654321
                    properties:
                      displayName: MyUsageAccount1
                      externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                      managementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                      providerAccountId: '654321654321'
                      providerBillingAccountId: '123456789012'
                    type: Microsoft.CostManagement/externalSubscriptions
                  - id: /providers/Microsoft.CostManagement/externalSubscriptions/aws-110011001100
                    kind: aws
                    name: aws-110011001100
                    properties:
                      displayName: MyUsageAccount2
                      externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-112233445566
                      managementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                      providerAccountId: '110011001100'
                      providerBillingAccountId: '112233445566'
                    type: Microsoft.CostManagement/externalSubscriptions
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.CostManagement/externalSubscriptions/{externalSubscriptionName}':
    get:
      description: Get an ExternalSubscription definition
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ExternalSubscription_Get
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/externalSubscriptionNameParameter'
        - description: 'May be used to expand the collectionInfo property. By default, collectionInfo is not included.'
          in: query
          name: $expand
          required: false
          type: string
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ExternalSubscriptionDefinition'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ExternalSubscriptions
      x-ms-examples:
        ExternalSubscription_Get:
          parameters:
            api-version: 2019-03-01-preview
            externalSubscriptionName: aws-654321654321
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/externalSubscriptions/aws-654321654321
                kind: aws
                name: aws-654321654321
                properties:
                  displayName: MyUsageAccount1
                  externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                  managementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                  providerAccountId: '654321654321'
                  providerBillingAccountId: '123456789012'
                type: Microsoft.CostManagement/externalSubscriptions
        ExternalSubscription_Get_Expand:
          parameters:
            $expand: collectionInfo
            api-version: 2019-03-01-preview
            externalSubscriptionName: aws-654321654321
          responses:
            '200':
              body:
                id: /providers/Microsoft.CostManagement/externalSubscriptions/aws-654321654321
                kind: aws
                name: aws-654321654321
                properties:
                  collectionInfo:
                    lastUpdated: '2018-06-12T17:25:28Z'
                    sourceLastUpdated: '2018-06-12T16:41:28Z'
                  displayName: MyUsageAccount1
                  externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                  managementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                  providerAccountId: '654321654321'
                  providerBillingAccountId: '123456789012'
                type: Microsoft.CostManagement/externalSubscriptions
  /providers/Microsoft.CostManagement/operations:
    get:
      description: Lists all of the available consumption REST API operations.
      operationId: Operations_List
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/OperationListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Operations
      x-ms-pageable:
        nextLinkName: nextLink
  '/providers/Microsoft.Management/managementGroups/{managementGroupId}/providers/Microsoft.CostManagement/Forecast':
    post:
      description: Lists the usage data for management group.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Forecast_UsageByManagementGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/managementGroupIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Forecast
      x-ms-examples:
        ManagementGroupForecast:
          parameters:
            api-version: 2019-03-01-preview
            managementGroupId: MyMgId
            parameters:
              dataset:
                filter:
                  or:
                    - dimension:
                        name: SubscriptionName
                        operator: In
                        values:
                          - Azure Dev
                          - Azure Prod
                          - Azure PPE
                    - tag:
                        name: Environment
                        operator: In
                        values:
                          - Dev
                          - PPE
                          - Prod
                granularity: Daily
              timePeriod:
                from: '2018-11-01T00:00:00.000Z'
                to: '2019-01-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/Microsoft.CostManagement/Forecast/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: CostStatus
                          type: String
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Management/managementGroups/MyMgId/providers/Microsoft.CostManagement/Forecast?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.045363672276512
                          - 20190126
                          - Actual
                          - USD
                        - - 19.41979241290323
                          - 20190127
                          - Actual
                          - USD
                        - - 20.35941656262545
                          - 20190128
                          - Actual
                          - USD
                        - - 19.045363672276512
                          - 20190129
                          - Forecast
                          - USD
                        - - 19.41979241290323
                          - 20190130
                          - Forecast
                          - USD
                        - - 20.35941656262545
                          - 20190131
                          - Forecast
                          - USD
                    type: microsoft.costmanagement/Forecast
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Management/managementGroups/{managementGroupId}/providers/Microsoft.CostManagement/Query':
    post:
      description: Lists the usage data for management group.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Query_UsageByManagementGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/managementGroupIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Query
      x-ms-examples:
        ManagementGroupQuery:
          parameters:
            api-version: 2019-03-01-preview
            managementGroupId: MyMgId
            parameters:
              dataset:
                filter:
                  or:
                    - dimension:
                        name: SubscriptionName
                        operator: In
                        values:
                          - Azure Dev
                          - Azure Prod
                          - Azure PPE
                    - tag:
                        name: Environment
                        operator: In
                        values:
                          - Dev
                          - PPE
                          - Prod
                granularity: Daily
              timePeriod:
                from: '2018-11-01T00:00:00.000Z'
                to: '2019-01-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Management/managementGroups/MyMgId/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - 20181131
                          - USD
                        - - 173.41979241290323
                          - 20181231
                          - USD
                        - - 20.35941656262545
                          - 20190131
                          - USD
                    type: microsoft.costmanagement/Query
        ManagementGroupQueryGroupingUsage:
          parameters:
            api-version: 2019-03-01-preview
            managementGroupId: MyMgId
            parameters:
              dataset:
                aggregation:
                  totalCost:
                    function: Sum
                    name: PreTaxCost
                granularity: None
                grouping:
                  - name: SubscriptionName
                    type: Dimension
              timePeriod:
                from: '2018-08-01T00:00:00.000Z'
                to: '2018-10-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: SubscriptionName
                          type: String
                        - name: Currency
                          type: String
                      nextLink: 'https://management.azure.com/providers/Microsoft.Management/managementGroups/MyMgId/providers/Microsoft.CostManagement/Query?api-version=2019-03-01-preview&$skiptoken=AQAAAA%3D%3D'
                      rows:
                        - - 19.545363672276512
                          - Trial Subscription
                          - USD
                        - - 173.41979241290323
                          - DEV Subscription
                          - USD
                        - - 20.35941656262545
                          - Cost Management Subscrioption
                          - USD
                    type: microsoft.costmanagement/Query
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Management/managementGroups/{managementGroupId}/providers/Microsoft.CostManagement/dimensions':
    get:
      description: Lists the dimensions by managementGroup Id.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Dimensions_ListByManagementGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/managementGroupIdParameter'
        - description: 'May be used to filter dimensions by properties/category, properties/usageStart, properties/usageEnd. Supported operators are ''eq'',''lt'', ''gt'', ''le'', ''ge''.'
          in: query
          name: $filter
          required: false
          type: string
        - description: 'May be used to expand the properties/data within a dimension category. By default, data is not included when listing dimensions.'
          in: query
          name: $expand
          required: false
          type: string
        - description: 'Skiptoken is only used if a previous operation returned a partial result. If a previous response contains a nextLink element, the value of the nextLink element will include a skiptoken parameter that specifies a starting point to use for subsequent calls.'
          in: query
          name: $skiptoken
          required: false
          type: string
        - description: May be used to limit the number of results to the most recent N dimension data.
          in: query
          maximum: 1000
          minimum: 1
          name: $top
          required: false
          type: integer
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/DimensionsListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Dimensions
      x-ms-examples:
        ManagementGroupDimensionsList:
          parameters:
            api-version: 2019-03-01-preview
            managementGroupId: MyMgId
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31
                    properties:
                      category: ResourceGroup
                      data: []
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 377
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/microsoft.consumption/dimensions_ResourceType_2018-12-01_2018-12-31
                    name: dimensions_ResourceType_2018-12-01_2018-12-31
                    properties:
                      category: ResourceType
                      data: []
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        ManagementGroupDimensionsListExpandAndTop:
          parameters:
            $expand: properties/data
            $top: 5
            api-version: 2019-03-01-preview
            managementGroupId: MyMgId
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/microsoft.consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceGroup
                      data:
                        - thoroetrg01
                        - default-notificationhubs-westus
                        - jedikeyvaultrg
                        - contosocodeflow8d4a
                        - noobaa
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 377
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/microsoft.consumption/dimensions_ResourceType_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceType_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceType
                      data:
                        - microsoft.automation/automationaccounts
                        - microsoft.databricks/workspaces
                        - microsoft.dbformysql/servers
                        - microsoft.containerregistry/registries
                        - microsoft.search/searchservices
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 37
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
        ManagementGroupDimensionsListWithFilter:
          parameters:
            $expand: properties/data
            $filter: properties/category eq 'resourceId'
            $top: 5
            api-version: 2019-03-01-preview
            managementGroupId: MyMgId
          responses:
            '200':
              body:
                value:
                  - id: providers/Microsoft.Management/managementGroups/MyMgId/providers/microsoft.consumption/dimensions_ResourceId_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceId_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceId
                      data:
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/urphealthaccount
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/srphytenaccount
                        - /subscriptions/67e24f6b-1ec2-4c90-993a-dc2d25b00b6c/resourcegroups/defaultresourcegroup-eus/providers/microsoft.operationalinsights/workspaces/defaultworkspace-67e24f6b-1ec2-4c90-993a-dc2d25b00b6c-eus
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rg-sql-ha/providers/microsoft.compute/virtualmachines/sql-4qqp1
                        - /subscriptions/a98d6dc5-eb8f-46cf-8938-f1fb08f03706/resourcegroups/databricks-rg-testwsp-xijmsdubneexm/providers/microsoft.compute/disks/488cdb42bf74474a98075415be3f806c-containerrootvolume
                      description: Resource Id
                      filterEnabled: true
                      groupingEnabled: true
                      nextLink: 'http://management.azure.com/providers/Microsoft.Management/managementGroups/MyMgId/providers/Microsoft.Consumption/Dimensions?$filter=properties/category eq ''resourceId''&$top=5&api-version=2018-12-31-preview&$expand=properties/data&$skiptoken=AQAAAA%3D%3D'
                      total: 1409
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
      x-ms-odata: '#/definitions/Dimension'
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Management/managementGroups/{managementGroupId}/providers/Microsoft.CostManagement/externalSubscriptions':
    get:
      description: List all ExternalSubscription definitions for Management Group
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ExternalSubscription_ListByManagementGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/managementGroupIdParameter'
        - description: 'The $recurse=true query string parameter allows returning externalSubscriptions associated with the specified managementGroup, or any of its descendants.'
          in: query
          name: $recurse
          required: false
          type: boolean
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/ExternalSubscriptionDefinitionListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ExternalSubscriptions
      x-ms-examples:
        ExternalSubscription_List:
          parameters:
            api-version: 2019-03-01-preview
            managementGroupId: XYZ
          responses:
            '200':
              body:
                value:
                  - id: /providers/Microsoft.CostManagement/externalSubscriptions/aws-654321654321
                    name: aws-654321654321
                    properties:
                      displayName: MyUsageAccount1
                      externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-123456789012
                      managementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                      providerAccountId: '654321654321'
                      providerBillingAccountId: '123456789012'
                    type: Microsoft.CostManagement/externalSubscriptions
                  - id: /providers/Microsoft.CostManagement/externalSubscriptions/aws-110011001100
                    name: aws-110011001100
                    properties:
                      displayName: MyUsageAccount2
                      externalBillingAccountId: /providers/Microsoft.CostManagement/externalBillingAccounts/aws-112233445566
                      managementGroupId: /providers/Microsoft.Management/managementGroups/XYZ
                      providerAccountId: '110011001100'
                      providerBillingAccountId: '112233445566'
                    type: Microsoft.CostManagement/externalSubscriptions
      x-ms-pageable:
        nextLinkName: null
  '/providers/Microsoft.Management/managementGroups/{managementGroupId}/providers/Microsoft.CostManagement/externalSubscriptions/{externalSubscriptionName}':
    put:
      description: Updates the management group of an ExternalSubscription
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: ExternalSubscription_UpdateManagementGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/managementGroupIdParameter'
        - $ref: '#/parameters/externalSubscriptionNameParameter'
      responses:
        '204':
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - ExternalSubscriptions
      x-ms-examples:
        ManagementGroupExternalSubscription_Put:
          parameters:
            api-version: 2019-03-01-preview
            externalSubscriptionName: aws-654321654321
            managementGroupId: XYZ
          responses:
            '204': {}
  '/subscriptions/{subscriptionId}/providers/Microsoft.CostManagement/Forecast':
    post:
      description: Forecast the usage data for subscriptionId.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Forecast_UsageBySubscription
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/subscriptionIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Forecast
      x-ms-examples:
        SubscriptionForecast:
          parameters:
            api-version: 2019-03-01-preview
            parameters:
              dataset:
                filter:
                  tag:
                    name: Environment
                    operator: In
                    values:
                      - Dev
                      - PPE
                      - Prod
                granularity: Daily
              timePeriod:
                from: '2018-10-01T00:00:00.000Z'
                to: '2018-12-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
            subscriptionId: 00000000-0000-0000-0000-000000000000
          responses:
            '200':
              body:
                value:
                  - id: subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.CostManagement/Forecast/00000000-0000-0000-0000-000000000000
                    name: 55312978-ba1b-415c-9304-cfd9c43c0481
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: CostStatus
                          type: String
                        - name: Currency
                          type: String
                      nextLink: null
                      rows:
                        - - 214.68795741935486
                          - 20181222
                          - Actual
                          - USD
                        - - 215.68795741935486
                          - 20181223
                          - Actual
                          - USD
                        - - 216.68795741935486
                          - 20181224
                          - Actual
                          - USD
                        - - 217.68795741935486
                          - 20181225
                          - Actual
                          - USD
                        - - 218.68795741935486
                          - 20181226
                          - Actual
                          - USD
                        - - 219.14384914358166
                          - 20181227
                          - Actual
                          - USD
                        - - 220.14384914358877
                          - 20181228
                          - Forecast
                          - USD
                        - - 221.14343314358877
                          - 20181229
                          - Forecast
                          - USD
                        - - 222.14343355558876
                          - 20181230
                          - Forecast
                          - USD
                        - - 223.14343355558876
                          - 20181231
                          - Forecast
                          - USD
                    type: microsoft.costmanagement/Forecast
      x-ms-pageable:
        nextLinkName: null
  '/subscriptions/{subscriptionId}/providers/Microsoft.CostManagement/Query':
    post:
      description: Query the usage data for subscriptionId.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Query_UsageBySubscription
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/subscriptionIdParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Query
      x-ms-examples:
        SubscriptionQuery:
          parameters:
            api-version: 2019-03-01-preview
            parameters:
              dataset:
                filter:
                  tag:
                    name: Environment
                    operator: In
                    values:
                      - Dev
                      - PPE
                      - Prod
                granularity: Daily
              timePeriod:
                from: '2018-10-01T00:00:00.000Z'
                to: '2018-12-31T00:00:00.000Z'
              timeframe: Custom
              type: Usage
            subscriptionId: 00000000-0000-0000-0000-000000000000
          responses:
            '200':
              body:
                value:
                  - id: subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.CostManagement/Query/00000000-0000-0000-0000-000000000000
                    name: 55312978-ba1b-415c-9304-cfd9c43c0481
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: Currency
                          type: String
                      nextLink: null
                      rows:
                        - - 2.10333307059661
                          - 20181017
                          - USD
                        - - 218.68795741935486
                          - 20181018
                          - USD
                        - - 0.14384913581657052
                          - 20181019
                          - USD
                    type: microsoft.costmanagement/Query
      x-ms-pageable:
        nextLinkName: null
  '/subscriptions/{subscriptionId}/providers/Microsoft.CostManagement/dimensions':
    get:
      description: Lists the dimensions by subscription Id.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Dimensions_ListBySubscription
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/subscriptionIdParameter'
        - description: 'May be used to filter dimensions by properties/category, properties/usageStart, properties/usageEnd. Supported operators are ''eq'',''lt'', ''gt'', ''le'', ''ge''.'
          in: query
          name: $filter
          required: false
          type: string
        - description: 'May be used to expand the properties/data within a dimension category. By default, data is not included when listing dimensions.'
          in: query
          name: $expand
          required: false
          type: string
        - description: 'Skiptoken is only used if a previous operation returned a partial result. If a previous response contains a nextLink element, the value of the nextLink element will include a skiptoken parameter that specifies a starting point to use for subsequent calls.'
          in: query
          name: $skiptoken
          required: false
          type: string
        - description: May be used to limit the number of results to the most recent N dimension data.
          in: query
          maximum: 1000
          minimum: 1
          name: $top
          required: false
          type: integer
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/DimensionsListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Dimensions
      x-ms-examples:
        SubscriptionDimensionsList:
          parameters:
            $expand: properties/data
            $top: 5
            api-version: 2019-03-01-preview
            subscriptionId: 00000000-0000-0000-0000-000000000000
          responses:
            '200':
              body:
                value:
                  - id: subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceGroup_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceGroup
                      data:
                        - dcrg
                        - rg
                        - offlinegalleryrg
                        - system.orlando.adminkeyvault
                        - system.orlando.keyvault
                      description: Resource group
                      filterEnabled: true
                      groupingEnabled: true
                      total: 68
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/dimensions_ResourceType_2018-12-01_2018-12-31_5
                    name: dimensions_ResourceType_2018-12-01_2018-12-31_5
                    properties:
                      category: ResourceType
                      data:
                        - microsoft.storage/storageaccounts
                        - microsoft.web.admin/role
                        - microsoft.sql/servers
                        - microsoft.compute/virtualmachines
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 4
                      usageEnd: '2018-12-31T00:00:00-07:00'
                      usageStart: '2018-12-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
      x-ms-odata: '#/definitions/Dimension'
      x-ms-pageable:
        nextLinkName: null
  '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.CostManagement/dimensions':
    get:
      description: Lists the dimensions by resource group Id.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Dimensions_ListByResourceGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/subscriptionIdParameter'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - description: 'May be used to filter dimensions by properties/category, properties/usageStart, properties/usageEnd. Supported operators are ''eq'',''lt'', ''gt'', ''le'', ''ge''.'
          in: query
          name: $filter
          required: false
          type: string
        - description: 'May be used to expand the properties/data within a dimension category. By default, data is not included when listing dimensions.'
          in: query
          name: $expand
          required: false
          type: string
        - description: 'Skiptoken is only used if a previous operation returned a partial result. If a previous response contains a nextLink element, the value of the nextLink element will include a skiptoken parameter that specifies a starting point to use for subsequent calls.'
          in: query
          name: $skiptoken
          required: false
          type: string
        - description: May be used to limit the number of results to the most recent N dimension data.
          in: query
          maximum: 1000
          minimum: 1
          name: $top
          required: false
          type: integer
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/DimensionsListResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Dimensions
      x-ms-examples:
        ResourceGroupDimensionsList:
          parameters:
            $expand: properties/data
            $top: 5
            api-version: 2019-03-01-preview
            resourceGroupName: system.orlando
            subscriptionId: 00000000-0000-0000-0000-000000000000
          responses:
            '200':
              body:
                value:
                  - id: subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/system.orlando/providers/microsoft.consumption/dimensions_ResourceType_2018-05-01_2018-05-31_5
                    name: dimensions_ResourceType_2018-05-01_2018-05-31_5
                    properties:
                      category: ResourceType
                      data:
                        - microsoft.storage/storageaccounts
                      description: Resource type
                      filterEnabled: true
                      groupingEnabled: true
                      total: 1
                      usageEnd: '2018-05-31T00:00:00-07:00'
                      usageStart: '2018-05-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
                  - id: subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/system.orlando/providers/microsoft.consumption/dimensions_ResourceId_2018-05-01_2018-05-31_5
                    name: dimensions_ResourceId_2018-05-01_2018-05-31_5
                    properties:
                      category: ResourceId
                      data:
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/authprod
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/systemevents
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/armadminprod
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/srphytenaccount
                        - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/publicsystemportal
                      description: Resource Id
                      filterEnabled: true
                      groupingEnabled: true
                      total: 27
                      usageEnd: '2018-05-31T00:00:00-07:00'
                      usageStart: '2018-05-01T00:00:00-07:00'
                    type: microsoft.consumption/dimensions
      x-ms-odata: '#/definitions/Dimension'
      x-ms-pageable:
        nextLinkName: null
  '/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.CostManagement/Forecast':
    post:
      description: Forecast the usage data for subscriptionId and resource group.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Forecast_UsageByResourceGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/subscriptionIdParameter'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Forecast
      x-ms-examples:
        ResourceGroupForecast:
          parameters:
            api-version: 2019-03-01-preview
            parameters:
              dataset:
                filter:
                  and:
                    - or:
                        - dimension:
                            name: ResourceLocation
                            operator: In
                            values:
                              - East US
                              - West Europe
                        - tag:
                            name: Environment
                            operator: In
                            values:
                              - UAT
                              - Prod
                    - dimension:
                        name: ResourceGroup
                        operator: In
                        values:
                          - API
                granularity: Daily
              timeframe: MonthToDate
              type: Usage
            resourceGroupName: ScreenSharingTest-peer
            subscriptionId: 55312978-ba1b-415c-9304-c4b9c43c0481
          responses:
            '200':
              body:
                value:
                  - id: subscriptions/55312978-ba1b-415c-9304-c4b9c43c0481/resourcegroups/ScreenSharingTest-peer/providers/Microsoft.CostManagement/Forecast/9af9459d-441d-4055-9ed0-83d4c4a363fb
                    name: 9af9459d-441d-4055-9ed0-83d4c4a363fb
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: CostStatus
                          type: String
                        - name: Currency
                          type: String
                      nextLink: null
                      rows:
                        - - 19.10333307059661
                          - 20180417
                          - Actual
                          - USD
                        - - 20.10333307059661
                          - 20180418
                          - Actual
                          - USD
                        - - 21.10333307059661
                          - 20180419
                          - Forecast
                          - USD
                        - - 22.10333307059661
                          - 20180420
                          - Forecast
                          - USD
                    type: microsoft.costmanagement/Forecast
      x-ms-pageable:
        nextLinkName: null
  '/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.CostManagement/Query':
    post:
      description: Query the usage data for subscriptionId and resource group.
      externalDocs:
        url: 'https://docs.microsoft.com/en-us/rest/api/costmanagement/'
      operationId: Query_UsageByResourceGroup
      parameters:
        - $ref: '#/parameters/apiVersionParameter'
        - $ref: '#/parameters/subscriptionIdParameter'
        - $ref: '#/parameters/resourceGroupNameParameter'
        - description: Parameters supplied to the CreateOrUpdate Report Config operation.
          in: body
          name: parameters
          required: true
          schema:
            $ref: '#/definitions/ReportConfigDefinition'
      responses:
        '200':
          description: OK. The request has succeeded.
          schema:
            $ref: '#/definitions/QueryResult'
        default:
          description: Error response describing why the operation failed.
          schema:
            $ref: '#/definitions/ErrorResponse'
      tags:
        - Query
      x-ms-examples:
        ResourceGroupQuery:
          parameters:
            api-version: 2019-03-01-preview
            parameters:
              dataset:
                filter:
                  and:
                    - or:
                        - dimension:
                            name: ResourceLocation
                            operator: In
                            values:
                              - East US
                              - West Europe
                        - tag:
                            name: Environment
                            operator: In
                            values:
                              - UAT
                              - Prod
                    - dimension:
                        name: ResourceGroup
                        operator: In
                        values:
                          - API
                granularity: Daily
              timeframe: MonthToDate
              type: Usage
            resourceGroupName: ScreenSharingTest-peer
            subscriptionId: 55312978-ba1b-415c-9304-c4b9c43c0481
          responses:
            '200':
              body:
                value:
                  - id: subscriptions/55312978-ba1b-415c-9304-c4b9c43c0481/resourcegroups/ScreenSharingTest-peer/providers/Microsoft.CostManagement/Query/9af9459d-441d-4055-9ed0-83d4c4a363fb
                    name: 9af9459d-441d-4055-9ed0-83d4c4a363fb
                    properties:
                      columns:
                        - name: PreTaxCost
                          type: Number
                        - name: UsageDate
                          type: Number
                        - name: Currency
                          type: String
                      nextLink: null
                      rows:
                        - - 2.10333307059661
                          - 20180417
                          - USD
                        - - 20.10333307059661
                          - 20180418
                          - USD
                    type: microsoft.costmanagement/Query
      x-ms-pageable:
        nextLinkName: null
definitions:
  ConnectorCollectionErrorInfo:
    description: Details of any error encountered on last collection attempt
    properties:
      errorCode:
        description: Short error code
        readOnly: true
        type: string
      errorInnerMessage:
        description: External Provider error message
        readOnly: true
        type: string
      errorMessage:
        description: Detailed error message
        readOnly: true
        type: string
      errorStartTime:
        description: Time the error started occurring (Last time error occurred in lastChecked)
        format: date-time
        readOnly: true
        type: string
    type: object
  ConnectorCollectionInfo:
    description: Collection and ingestion information
    properties:
      error:
        $ref: '#/definitions/ConnectorCollectionErrorInfo'
        description: Error information of last collection
      lastChecked:
        description: Last time the data acquisition process initiated connecting to the external provider
        format: date-time
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      lastUpdated:
        description: Last time the external data was updated into Azure
        format: date-time
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      sourceLastUpdated:
        description: Source timestamp of external data currently available in Azure (eg AWS last processed CUR file timestamp)
        format: date-time
        readOnly: true
        type: string
        x-ms-mutability:
          - read
    type: object
  ConnectorDefinition:
    description: The Connector model definition
    properties:
      id:
        description: Connector id
        readOnly: true
        type: string
      kind:
        description: Connector kind (eg aws)
        type: string
      name:
        description: Connector name
        readOnly: true
        type: string
      properties:
        $ref: '#/definitions/ConnectorProperties'
        description: Connector properties
        x-ms-client-flatten: true
      type:
        description: Connector type
        readOnly: true
        type: string
    type: object
    x-ms-azure-resource: true
  ConnectorDefinitionListResult:
    description: Result of listing connector definitions. It contains a list of available connector definitions in the scope provided.
    properties:
      value:
        description: The list of connector definitions.
        items:
          $ref: '#/definitions/ConnectorDefinition'
        readOnly: true
        type: array
  ConnectorProperties:
    description: The properties of a Connector
    properties:
      billingModel:
        description: Connector billing model
        enum:
          - trial
          - autoUpgrade
          - premium
          - expired
        type: string
        x-ms-enum:
          modelAsString: true
          name: ConnectorBillingModel
        x-ms-mutability:
          - read
          - create
          - update
      collectionInfo:
        $ref: '#/definitions/ConnectorCollectionInfo'
        description: Collection information
        readOnly: true
        x-nullable: true
      createdOn:
        description: Connector definition creation datetime
        format: date-time
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      credentialsKey:
        description: Credentials authentication key (eg AWS ARN)
        type: string
        x-ms-mutability:
          - read
          - create
          - update
      credentialsSecret:
        description: Credentials secret (eg AWS ExternalId)
        type: string
        x-ms-mutability:
          - create
          - update
      daysTrialRemaining:
        description: Number of days remaining of trial
        readOnly: true
        type: integer
        x-ms-mutability:
          - read
        x-nullable: true
      defaultManagementGroupId:
        description: Default ManagementGroupId
        type: string
        x-ms-mutability:
          - read
          - create
          - update
      displayName:
        description: Connector DisplayName
        type: string
        x-ms-mutability:
          - read
          - create
          - update
      externalBillingAccountId:
        description: Associated ExternalBillingAccountId
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      modifiedOn:
        description: Connector last modified datetime
        format: date-time
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      providerBillingAccountDisplayName:
        description: The display name of the providerBillingAccountId as defined on the external provider
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      providerBillingAccountId:
        description: 'Connector providerBillingAccountId, determined from credentials (eg AWS Consolidated account number)'
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      reportId:
        description: 'Identifying source report. (For AWS this is a CUR report name, defined with Daily and with Resources)'
        type: string
        x-ms-mutability:
          - read
          - create
          - update
      status:
        description: Connector status
        enum:
          - active
          - error
          - expired
          - warning
        readOnly: true
        type: string
        x-ms-enum:
          modelAsString: true
          name: ConnectorStatus
        x-ms-mutability:
          - read
      subscriptionId:
        description: Billing SubscriptionId
        type: string
        x-ms-mutability:
          - read
          - create
          - update
    type: object
  CostAllocationDetails:
    description: Represents CostAllocation showback rule model
    properties:
      policy:
        description: Cost allocation policy.
        enum:
          - Proportional
          - Evenly
          - Fixed
        type: string
        x-ms-enum:
          modelAsString: true
          name: CostAllocationPolicy
  CostAllocationDetailsKind:
    allOf:
      - $ref: '#/definitions/ShowbackRuleProperties'
    description: Represents CostAllocation showback rule model
    properties:
      details:
        $ref: '#/definitions/CostAllocationDetails'
        description: The CostAllocation properties to validate.
        x-ms-client-flatten: true
    x-ms-discriminator-value: CostAllocation
  CustomPriceDetails:
    description: Represents Custom price showback rule model
    properties:
      benefits:
        description: Array of benefits.
        items:
          enum:
            - None
            - All
            - AHUB
            - Reservations
          type: string
          x-ms-enum:
            modelAsString: true
            name: FunctionType
        type: array
      markups:
        description: List of markups.
        items:
          $ref: '#/definitions/Markup'
        type: array
      pricesheet:
        type: string
  CustomPriceDetailsKind:
    allOf:
      - $ref: '#/definitions/ShowbackRuleProperties'
    description: Represents Custom price showback rule model
    properties:
      details:
        $ref: '#/definitions/CustomPriceDetails'
        description: The Custom price properties to validate.
        x-ms-client-flatten: true
    x-ms-discriminator-value: CustomPrice
  Dimension:
    allOf:
      - $ref: '#/definitions/Resource'
    properties:
      properties:
        $ref: '#/definitions/DimensionProperties'
        title: Dimension properties
        x-ms-client-flatten: true
    type: object
  DimensionProperties:
    properties:
      category:
        type: string
      data:
        items:
          type: string
        type: array
      description:
        type: string
      filterEnabled:
        type: boolean
      groupingEnabled:
        type: boolean
      nextLink:
        type: string
      total:
        format: int32
        type: integer
      usageEnd:
        format: date-time
        type: string
      usageStart:
        format: date-time
        type: string
    type: object
  DimensionsListResult:
    description: Result of listing dimensions. It contains a list of available dimensions.
    properties:
      value:
        description: The list of dimensions.
        items:
          $ref: '#/definitions/Dimension'
        readOnly: true
        type: array
    type: object
  ErrorBase:
    description: The details of the error.
    properties:
      code:
        description: A machine readable error code.
        readOnly: true
        type: string
      message:
        description: A human readable error message.
        readOnly: true
        type: string
      target:
        description: Indicates which property in the request is responsible for the error.
        readOnly: true
        type: string
  ErrorDetails:
    description: The details of the error.
    properties:
      code:
        description: A machine readable error code.
        readOnly: true
        type: string
      details:
        description: error details.
        items:
          $ref: '#/definitions/ErrorBase'
        type: array
      message:
        description: A human readable error message.
        readOnly: true
        type: string
      target:
        description: Indicates which property in the request is responsible for the error.
        type: string
  ErrorResponse:
    description: Error response indicates that the service is not able to process the incoming request. The reason is provided in the error message.
    properties:
      error:
        $ref: '#/definitions/ErrorDetails'
        description: The details of the error.
    type: object
  ExternalBillingAccountDefinition:
    description: The ExternalBillingAccount model definition
    properties:
      id:
        description: ExternalBillingAccount id
        readOnly: true
        type: string
      kind:
        description: ExternalBillingAccount kind (eg aws)
        readOnly: true
        type: string
      name:
        description: ExternalBillingAccount name
        readOnly: true
        type: string
      properties:
        $ref: '#/definitions/ExternalBillingAccountProperties'
        description: ExternalBillingAccount properties
        x-ms-client-flatten: true
      type:
        description: ExternalBillingAccount type
        readOnly: true
        type: string
    type: object
    x-ms-azure-resource: true
  ExternalBillingAccountDefinitionListResult:
    description: Result of listing ExternalBillingAccount definitions. It contains a list of available ExternalBillingAccount definitions in the scope provided.
    properties:
      value:
        description: The list of ExternalBillingAccount definitions.
        items:
          $ref: '#/definitions/ExternalBillingAccountDefinition'
        readOnly: true
        type: array
  ExternalBillingAccountProperties:
    description: The properties of a ExternalBillingAccount
    properties:
      collectionInfo:
        $ref: '#/definitions/ConnectorCollectionInfo'
        description: Collection information
        readOnly: true
        x-nullable: true
      connectorId:
        description: Underlying ConnectorId
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      displayName:
        description: ExternalBillingAccount DisplayName
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      providerBillingAccountId:
        description: Provider BillingAccountId (eg AWS Consolidated Account number)
        readOnly: true
        type: string
        x-ms-mutability:
          - read
    type: object
  ExternalSubscriptionDefinition:
    description: The ExternalSubscription model definition
    properties:
      id:
        description: ExternalSubscription id
        readOnly: true
        type: string
      kind:
        description: ExternalSubscription kind (eg aws)
        readOnly: true
        type: string
      name:
        description: ExternalSubscription name
        readOnly: true
        type: string
      properties:
        $ref: '#/definitions/ExternalSubscriptionProperties'
        description: ExternalSubscription properties
        x-ms-client-flatten: true
      type:
        description: ExternalSubscription type
        readOnly: true
        type: string
    type: object
    x-ms-azure-resource: true
  ExternalSubscriptionDefinitionListResult:
    description: Result of listing ExternalSubscription definitions. It contains a list of available ExternalSubscription definitions in the scope provided.
    properties:
      value:
        description: The list of ExternalSubscription definitions.
        items:
          $ref: '#/definitions/ExternalSubscriptionDefinition'
        readOnly: true
        type: array
  ExternalSubscriptionIdListRequest:
    description: The list of ExternalSubscriptionIds operation request.
    properties:
      value:
        description: The list of ExternalSubscriptionIds.
        items:
          type: string
        type: array
  ExternalSubscriptionProperties:
    description: The properties of a ExternalSubscription
    properties:
      collectionInfo:
        $ref: '#/definitions/ConnectorCollectionInfo'
        description: Collection information
        readOnly: true
        x-nullable: true
      displayName:
        description: ExternalSubscription DisplayName
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      externalBillingAccountId:
        description: Parent ExternalBillingAccountId
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      managementGroupId:
        description: Assigned ManagementGroupId
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      providerAccountId:
        description: Provider AccountId (eg AWS Linked Account number)
        readOnly: true
        type: string
        x-ms-mutability:
          - read
      providerBillingAccountId:
        description: Provider BillingAccountId (eg AWS Consolidated Account number)
        readOnly: true
        type: string
        x-ms-mutability:
          - read
    type: object
  Markup:
    description: The Markup model definition
    properties:
      percentage:
        type: string
    type: object
  Operation:
    description: A Cost management REST API operation.
    properties:
      display:
        description: The object that represents the operation.
        properties:
          operation:
            description: 'Operation type: Read, write, delete, etc.'
            readOnly: true
            type: string
          provider:
            description: 'Service provider: Microsoft.CostManagement.'
            readOnly: true
            type: string
          resource:
            description: 'Resource on which the operation is performed: Dimensions, Query.'
            readOnly: true
            type: string
      name:
        description: 'Operation name: {provider}/{resource}/{operation}.'
        readOnly: true
        type: string
    type: object
  OperationListResult:
    description: Result of listing cost management operations. It contains a list of operations and a URL link to get the next set of results.
    properties:
      nextLink:
        description: URL to get the next set of operation list results if there are any.
        readOnly: true
        type: string
      value:
        description: List of cost management operations supported by the Microsoft.CostManagement resource provider.
        items:
          $ref: '#/definitions/Operation'
        readOnly: true
        type: array
  Query:
    allOf:
      - $ref: '#/definitions/Resource'
    properties:
      properties:
        $ref: '#/definitions/QueryProperties'
        title: Query properties
        x-ms-client-flatten: true
    type: object
  QueryColumn:
    properties:
      name:
        type: string
      type:
        type: string
    type: object
  QueryProperties:
    properties:
      columns:
        description: Array of columns
        items:
          $ref: '#/definitions/QueryColumn'
        type: array
      nextLink:
        type: string
      rows:
        items:
          items: {}
          type: array
        type: array
    type: object
  QueryResult:
    description: Result of query. It contains all columns listed under groupings and aggregation.
    properties:
      value:
        description: The list of usage data.
        items:
          $ref: '#/definitions/Query'
        readOnly: true
        type: array
    type: object
  ReportConfigAggregation:
    description: The aggregation expression to be used in the report.
    properties:
      function:
        description: The name of the aggregation function to use.
        enum:
          - Sum
        type: string
        x-ms-enum:
          modelAsString: true
          name: FunctionType
      name:
        description: The name of the column to aggregate.
        type: string
    required:
      - name
      - function
  ReportConfigColumnType:
    description: The type of the column in the report.
    enum:
      - Tag
      - Dimension
    type: string
    x-ms-enum:
      modelAsString: true
      name: ReportConfigColumnType
  ReportConfigComparisonExpression:
    description: The comparison expression to be used in the report.
    properties:
      name:
        description: The name of the column to use in comparison.
        type: string
      operator:
        description: The operator to use for comparison.
        enum:
          - In
          - Contains
        type: string
        x-ms-enum:
          modelAsString: true
          name: OperatorType
      values:
        description: Array of values to use for comparison
        items:
          type: string
        minItems: 1
        type: array
    required:
      - name
      - operator
      - values
  ReportConfigDataset:
    description: The definition of data present in the report.
    properties:
      aggregation:
        additionalProperties:
          $ref: '#/definitions/ReportConfigAggregation'
          type: object
        description: Dictionary of aggregation expression to use in the report. The key of each item in the dictionary is the alias for the aggregated column. Report can have up to 2 aggregation clauses.
        maxItems: 2
        type: object
      configuration:
        $ref: '#/definitions/ReportConfigDatasetConfiguration'
        description: Has configuration information for the data in the report. The configuration will be ignored if aggregation and grouping are provided.
      filter:
        $ref: '#/definitions/ReportConfigFilter'
        description: Has filter expression to use in the report.
        type: object
      granularity:
        description: The granularity of rows in the report.
        enum:
          - Daily
          - Monthly
        type: string
        x-ms-enum:
          modelAsString: true
          name: GranularityType
      grouping:
        description: Array of group by expression to use in the report. Report can have up to 2 group by clauses.
        items:
          $ref: '#/definitions/ReportConfigGrouping'
        maxItems: 2
        type: array
      sorting:
        description: Array of order by expression to use in the report.
        items:
          $ref: '#/definitions/ReportConfigSorting'
        type: array
  ReportConfigDatasetConfiguration:
    description: The configuration of dataset in the report.
    properties:
      columns:
        description: 'Array of column names to be included in the report. Any valid report column name is allowed. If not provided, then report includes all columns.'
        items:
          type: string
        type: array
  ReportConfigDefinition:
    description: The definition of a report config.
    properties:
      dataset:
        $ref: '#/definitions/ReportConfigDataset'
        description: Has definition for data in this report config.
      timePeriod:
        $ref: '#/definitions/ReportConfigTimePeriod'
        description: Has time period for pulling data for the report.
      timeframe:
        description: 'The time frame for pulling data for the report. If custom, then a specific time period must be provided.'
        enum:
          - WeekToDate
          - MonthToDate
          - YearToDate
          - Custom
        type: string
        x-ms-enum:
          modelAsString: true
          name: TimeframeType
      type:
        description: 'The type of the report. Usage represents actual usage, forecast represents forecasted data and UsageAndForecast represents both usage and forecasted data. Actual usage and forecasted data can be differentiated based on dates.'
        enum:
          - Usage
        type: string
        x-ms-enum:
          modelAsString: true
          name: ReportType
    required:
      - type
      - timeframe
  ReportConfigFilter:
    description: The filter expression to be used in the report.
    properties:
      and:
        description: The logical "AND" expression. Must have at least 2 items.
        items:
          $ref: '#/definitions/ReportConfigFilter'
        minItems: 2
        type: array
      dimension:
        $ref: '#/definitions/ReportConfigComparisonExpression'
        description: Has comparison expression for a dimension
      not:
        $ref: '#/definitions/ReportConfigFilter'
        description: The logical "NOT" expression.
      or:
        description: The logical "OR" expression. Must have at least 2 items.
        items:
          $ref: '#/definitions/ReportConfigFilter'
        minItems: 2
        type: array
      tag:
        $ref: '#/definitions/ReportConfigComparisonExpression'
        description: Has comparison expression for a tag
  ReportConfigGrouping:
    description: The group by expression to be used in the report.
    properties:
      name:
        description: The name of the column to group. This version supports subscription lowest possible grain.
        type: string
      type:
        $ref: '#/definitions/ReportConfigColumnType'
        description: Has type of the column to group.
    required:
      - type
      - name
  ReportConfigSorting:
    description: The order by expression to be used in the report.
    properties:
      direction:
        description: Direction of sort.
        enum:
          - Ascending
          - Descending
        type: string
      name:
        description: The name of the column to sort.
        type: string
    required:
      - name
  ReportConfigTimePeriod:
    description: The start and end date for pulling data for the report.
    properties:
      from:
        description: The start date to pull data from.
        format: date-time
        type: string
      to:
        description: The end date to pull data to.
        format: date-time
        type: string
    required:
      - from
      - to
  Resource:
    description: The Resource model definition.
    properties:
      id:
        description: Resource Id.
        readOnly: true
        type: string
      name:
        description: Resource name.
        readOnly: true
        type: string
      tags:
        additionalProperties:
          type: string
        description: Resource tags.
        readOnly: true
        type: object
      type:
        description: Resource type.
        readOnly: true
        type: string
    x-ms-azure-resource: true
  Scope:
    description: The Scope model definition
    properties:
      childScope:
        $ref: '#/definitions/Scope'
      id:
        description: Scope id
        type: string
      name:
        description: Scope name
        type: string
      type:
        description: Scope type
        type: string
    type: object
  ShowbackRule:
    description: The showback rule model definition
    properties:
      id:
        description: Rule id
        readOnly: true
        type: string
      name:
        description: Rule name
        readOnly: true
        type: string
      properties:
        $ref: '#/definitions/ShowbackRuleProperties'
        description: Showback rule properties
        x-ms-client-flatten: true
      type:
        description: Rule type
        readOnly: true
        type: string
    type: object
  ShowbackRuleListResult:
    description: Result of listing showback rules. It contains a list of available rules in the scope provided.
    properties:
      value:
        description: The list of showback rules.
        items:
          $ref: '#/definitions/ShowbackRule'
        readOnly: true
        type: array
  ShowbackRuleProperties:
    description: The properties of a showback rule.
    discriminator: ruleType
    properties:
      creationTime:
        description: The time when the showback rule was created.
        format: date-time
        readOnly: true
        type: string
      deprecationTime:
        description: The current time when showback rule was deprecate.
        format: date-time
        readOnly: true
        type: string
      description:
        description: Description of a showback rule.
        type: string
      modificationTime:
        description: The current status when showback rule was modified.
        format: date-time
        readOnly: true
        type: string
      ruleType:
        description: The rule type of the showback rule solution.
        enum:
          - CustomPrice
          - CostAllocation
        type: string
        x-ms-enum:
          modelAsString: true
          name: RuleType
      scopes:
        description: List of authorized assigned scopes.
        items:
          $ref: '#/definitions/Scope'
        type: array
      status:
        description: The current status of the showback rule.
        enum:
          - NotActive
          - Active
        type: string
        x-ms-enum:
          modelAsString: true
          name: ShowbackRuleStatus
      version:
        description: The current version of showback rule.
        readOnly: true
        type: integer
    required:
      - ruleType
